import{d as S,a as h,j as $,o as c,c as p,e as f,b as g,t as x,u as C,F as k,h as Y,n as V,l as H,f as b,g as ne,w as O}from"./vue.esm-bundler-a130895e.js";import{V as D}from"./VrxIcon-af2cf1c7.js";import{V as R}from"./VrxInput-df851cb9.js";/* empty css                                                                */import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";import{v as ae}from"./appendToBody-70f0f50f.js";const I=["January","February","March","April","May","June","July","August","September","October","November","December"],P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],re=["Su","Mo","Tu","We","Th","Fr","Sa"];function le(s,l){const i={MM:String(s.getMonth()+1).length===1?`0${s.getMonth()+1}`:String(s.getMonth()+1),Month:I[s.getMonth()],DD:String(s.getDate()).length===1?`0${s.getDate()}`:String(s.getDate()),YYYY:String(s.getFullYear()),HH:String(s.getHours()).length===1?`0${s.getHours()}`:String(s.getHours()),mm:String(s.getMinutes()).length===1?`0${s.getMinutes()}`:String(s.getMinutes())};return l.replace(/MM|Month|DD|YYYY|HH|mm/gi,o=>i[o])}function j(s,l,i,o,t,e){s.forEach((n,u)=>{let a;i?u<=l&&(a=new Date(o,t,n.number),a.setDate(a.getDate()-(l-u))):u>=l&&(a=new Date(o,t+1,n.number),a.setDate(a.getDate()+(u-l+1))),a&&(s[u]={day:a.getDay(),number:a.getDate(),month:a.getMonth(),year:a.getFullYear(),isToday:a.toDateString()===new Date().toDateString(),isCurrentMonth:a.getMonth()===t,disabled:A(a,e)})})}function A(s,l){var i,o;return l?!!(l[0]&&s.getTime()<((i=l[0])==null?void 0:i.getTime())||l[1]&&s.getTime()>((o=l[1])==null?void 0:o.getTime())):!1}function B(s){return s<10?`0${s}`:`${s}`}const oe={class:"w-full h-16 border-t vrxdatepicker-timepicker-bg-style flex justify-center gap-2 items-center"},se=g("span",null,":",-1),ie=S({__name:"TimePick",props:{selectedDate:{}},emits:["changeMinute","changeHour"],setup(s,{emit:l}){const i=s,o=h(i.selectedDate?B(i.selectedDate.getHours()):"00"),t=h(i.selectedDate?B(i.selectedDate.getMinutes()):"00"),e=$(()=>!/^([01][0-9]|2[0-3]):([0-5][0-9])$/.test(o.value+":"+t.value)),n=u=>{e.value||(typeof parseInt(t.value)!="number"||isNaN(parseInt(t.value))?(o.value="00",t.value="00"):parseInt(t.value)+u>=60?t.value="00":parseInt(t.value)+u<=-1?t.value="50":parseInt(t.value)+u<10?t.value="0"+(parseInt(t.value)+u).toString():t.value=(parseInt(t.value)+u).toString(),l("changeHour",o.value),l("changeMinute",t.value))};return(u,a)=>(c(),p("div",oe,[f(D,{icon:"chevron-left",class:"rounded-lg vrxdatepicker-timepicker-text-style cursor-pointer",onClick:a[0]||(a[0]=d=>n(-10))}),f(R,{icon:"clock",type:"text",modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=d=>o.value=d),class:"w-20",placeholder:"",invalid:e.value,onFocusout:a[2]||(a[2]=()=>e.value?null:l("changeHour",o.value)),onChange:a[3]||(a[3]=()=>e.value?null:l("changeHour",o.value))},null,8,["modelValue","invalid"]),se,f(R,{icon:"timer",type:"text",modelValue:t.value,"onUpdate:modelValue":a[4]||(a[4]=d=>t.value=d),class:"w-20",placeholder:"",invalid:e.value,onFocusout:a[5]||(a[5]=()=>e.value?null:l("changeMinute",t.value)),onChange:a[6]||(a[6]=()=>e.value?null:l("changeMinute",t.value))},null,8,["modelValue","invalid"]),f(D,{icon:"chevron-right",class:"rounded-lg vrxdatepicker-timepicker-text-style cursor-pointer",onClick:a[7]||(a[7]=d=>n(10))})]))}}),ue={class:"flex flex-row justify-between items-center"},ce={"aria-describedby":"vrx-table-calendar"},de={class:"text-primary-400"},pe={class:"font-normal select-none"},ge=["onClick"],ve=S({__name:"DaysPick",props:{month:{},year:{},selectedDate:{},validRange:{},timeEnabled:{type:Boolean}},emits:["changeMonth","changeStage","dayClicked","changeMinute","changeHour"],setup(s,{emit:l}){const i=s,o=$(()=>{let e=new Date(i.year,i.month,1),n=[];for(;e.getMonth()===i.month;)n.push({day:new Date(e).getDay(),number:new Date(e).getDate(),month:new Date(e).getMonth(),year:new Date(e).getFullYear(),isToday:new Date(e).toDateString()===new Date().toDateString(),isCurrentMonth:new Date(e).getMonth()===i.month,disabled:A(e,i.validRange)}),e.setDate(e.getDate()+1);n.sort((v,w)=>v.number-w.number);const u=n[0].day,a=u>=5?6:5;let d=new Array(a).fill(null).map(()=>new Array(7).fill({day:0,number:0,month:0,year:0,isToday:!1,isCurrentMonth:!1,disabled:!1}));n.forEach((v,w)=>{const F=Math.floor((w+u)/7),M=(w+u)%7;d[F][M]=v});let m=d[0].findLastIndex(v=>v.number===0),_=d[d.length-1].findIndex(v=>v.number===0);return j(d[0],m,!0,i.year,i.month,i.validRange),j(d[d.length-1],_,!1,i.year,i.month,i.validRange),d}),t=e=>{let n="";return i.selectedDate&&e.number===i.selectedDate.getDate()&&e.month===i.selectedDate.getMonth()&&e.year===i.selectedDate.getFullYear()?n+=" vrxdatepicker-daypicker-isselected-style":e.isToday?n+=" vrxdatepicker-daypicker-istoday-style":e.isCurrentMonth?e.disabled&&(n+=" vrxdatepicker-daypicker-isdisabled-style line-through"):(n+=" vrxdatepicker-daypicker-iscurrentmonth-style !font-normal",e.disabled&&(n+=" line-through")),n};return(e,n)=>(c(),p(k,null,[g("div",ue,[f(D,{icon:"chevron-left",class:"rounded-lg vrxdatepicker-daypicker-text-style cursor-pointer",onClick:n[0]||(n[0]=u=>l("changeMonth",-1))}),g("span",{class:"rounded-lg font-bold vrxdatepicker-daypicker-text-style pt-1 pb-1 pr-2 pl-2 cursor-pointer select-none",onClick:n[1]||(n[1]=()=>l("changeStage","m"))},x(C(I)[e.month]+" "+e.year),1),f(D,{icon:"chevron-right",class:"rounded-lg vrxdatepicker-daypicker-text-style cursor-pointer",onClick:n[2]||(n[2]=u=>l("changeMonth",1))})]),g("table",ce,[g("thead",null,[g("tr",de,[(c(!0),p(k,null,Y(C(re),u=>(c(),p("th",pe,x(u),1))),256))])]),g("tbody",null,[(c(!0),p(k,null,Y(o.value,u=>(c(),p("tr",null,[(c(!0),p(k,null,Y(u,a=>(c(),p("td",{class:V(["rounded-lg vrxdatepicker-daypicker-text-style",t(a)]),onClick:()=>a.disabled?null:l("dayClicked",a)},x(a.number),11,ge))),256))]))),256))])]),e.timeEnabled?(c(),H(ie,{key:0,"selected-date":e.selectedDate,onChangeHour:n[3]||(n[3]=u=>l("changeHour",u)),onChangeMinute:n[4]||(n[4]=u=>l("changeMinute",u))},null,8,["selected-date"])):b("",!0)],64))}}),he=L(ve,[["__scopeId","data-v-fc5fadf0"]]),fe={class:"flex flex-row justify-between items-center"},ye={class:"flex flex-row flex-wrap justify-between gap-1 p-2"},me=["onClick"],ke=S({__name:"MonthPick",props:{year:{}},emits:["changeYear","changeMonth","changeStage"],setup(s,{emit:l}){const i=s,o=t=>{l("changeMonth",t)};return(t,e)=>(c(),p(k,null,[g("div",fe,[f(D,{icon:"chevron-left",class:"rounded-lg vrxdatepicker-monthpicker-text-style cursor-pointer",onClick:e[0]||(e[0]=()=>l("changeYear",-1))}),g("span",{class:"rounded-lg font-bold vrxdatepicker-monthpicker-text-style pt-1 pb-1 pr-2 pl-2 cursor-pointer select-none",onClick:e[1]||(e[1]=()=>l("changeStage","y"))},x(i.year),1),f(D,{icon:"chevron-right",class:"rounded-lg vrxdatepicker-monthpicker-text-style cursor-pointer",onClick:e[2]||(e[2]=()=>l("changeYear",1))})]),g("div",ye,[(c(!0),p(k,null,Y(C(P),n=>(c(),p("div",{class:"font-bold w-16 p-1 rounded-md text-center cursor-pointer vrxdatepicker-monthpicker-text-style",onClick:()=>o(C(P).indexOf(n))},x(n),9,me))),256))])],64))}}),xe={class:"flex flex-row justify-between items-center"},De={class:"rounded-lg vrxdatepicker-yearpicker-header-text-style font-bold pt-1 pb-1 pr-2 pl-2 select-none"},Me={class:"w-full flex justify-center"},be={class:"flex flex-row flex-wrap"},we=["onClick"],Ce=S({__name:"YearPick",props:{yearRange:{}},emits:["changeYearRange","changeYear"],setup(s,{emit:l}){const i=s,o=$(()=>{let t=[];for(let e=i.yearRange[0];e<=i.yearRange[1];e++)t.push(e);return t});return(t,e)=>(c(),p(k,null,[g("div",xe,[f(D,{icon:"chevron-left",class:"rounded-lg vrxdatepicker-yearpicker-text-style cursor-pointer",onClick:e[0]||(e[0]=n=>l("changeYearRange",-10))}),g("span",De,x(t.yearRange.join(" - ")),1),f(D,{icon:"chevron-right",class:"rounded-lg vrxdatepicker-yearpicker-text-style cursor-pointer",onClick:e[1]||(e[1]=n=>l("changeYearRange",10))})]),g("div",Me,[g("div",be,[(c(!0),p(k,null,Y(o.value,n=>(c(),p("div",{class:"font-bold w-14 p-1 rounded-md text-center cursor-pointer vrxdatepicker-yearpicker-text-style",onClick:u=>l("changeYear",n)},x(n),9,we))),256))])])],64))}}),Ye=["onKeydown"],$e={class:"h-fit w-fit",ref:"main"},Se={key:0},_e={key:1,class:"fixed top-0 left-0 w-full h-full z-20"},Fe=["onKeydown"],He=S({__name:"VrxDatePicker",props:{type:{},validRange:{},dateFormat:{},monthsOnly:{type:Boolean},placeholder:{},invalid:{type:Boolean},date:{},helperText:{},label:{}},emits:["dayClicked"],setup(s,{expose:l,emit:i}){const o=s,t=o.date?o.date:h(new Date),e=h(new Date().getMonth()),n=h(new Date().getFullYear()),u=h(0),a=h(0),d=h([Math.floor(new Date().getFullYear()/10)*10,Math.floor(new Date().getFullYear()/10)*10+10]),m=h(o.monthsOnly?"m":"d"),_=h(o.validRange),v=h(!1),w=h(),F=()=>{v.value=!0},M=r=>{const y=r?r.relatedTarget:null;y&&(y.classList.contains("dropdown-vrx-picker")||y.classList.contains("vrx-input"))||(v.value=!1)},N=r=>{t.value=new Date(r.year,r.month,r.number,u.value,a.value),t.value.getMonth()!==e.value&&(e.value=t.value.getMonth(),n.value=t.value.getFullYear()),i("dayClicked",t.value),v.value=!1},J=$(()=>o.monthsOnly?I[e.value]+" "+n.value:t.value?le(t.value,o.dateFormat??"DD-MM-YYYY"):""),E=r=>{e.value+r>11?(e.value=0,n.value+=1):e.value+r<0?(e.value=11,n.value-=1):e.value+=r},K=r=>{n.value+=r},z=r=>{d.value=[d.value[0]+r,d.value[1]+r]},U=r=>{if(e.value=r,o.monthsOnly){v.value=!1;return}m.value="d"},W=r=>{n.value=r,m.value="m"},q=r=>{a.value=r,t.value&&t.value.setMinutes(r)},G=r=>{u.value=r,t.value&&t.value.setHours(r)},Q=r=>{t.value=r},X=r=>{_.value=r},Z=()=>o.monthsOnly?new Date(n.value,e.value,1):t.value,ee=(r,y)=>{o.monthsOnly&&(e.value=r,n.value=y)},te=$(()=>{switch(o.type){case"date":return"w-48";case"time":return"w-24";case"datetime":return"w-56"}});return l({setDate:Q,setValidRange:X,getDate:Z,setMonth:ee,openPicker:F,closePicker:M}),(r,y)=>(c(),p("div",{class:V(["relative",te.value]),onFocusout:M,onKeydown:O(M,["esc"])},[g("div",$e,[f(R,{"model-value":J.value,icon:"calendar",label:r.label,type:"text",placeholder:r.placeholder??"Select a date",onClick:F,readonly:!0,invalid:r.invalid},null,8,["model-value","label","placeholder","invalid"])],512),r.helperText?(c(),p("div",Se,[g("p",{class:V(["mt-2 text-sm vrxdatepicker-helpertext-style",r.invalid?"vrxdatepicker-helpertext-invalid-style":""])},x(r.helperText),3)])):b("",!0),v.value?(c(),p("div",_e,[v.value?ne((c(),p("div",{key:0,ref_key:"dropdownRef",ref:w,class:"dropdown-vrx-picker absolute w-64 mt-1 p-4 h-auto text-sm rounded-lg vrxdatepicker-dropdown-bg-style flex flex-col gap-2 shadow-md",tabindex:"-1",onFocusout:M,onKeydown:O(M,["esc"])},[m.value==="d"&&!o.monthsOnly?(c(),H(he,{key:0,month:e.value,year:n.value,"selected-date":C(t),"valid-range":_.value,"time-enabled":o.type==="datetime",onChangeStage:y[0]||(y[0]=T=>m.value=T),onChangeMonth:E,onDayClicked:N,onChangeMinute:q,onChangeHour:G},null,8,["month","year","selected-date","valid-range","time-enabled"])):b("",!0),m.value==="m"||o.monthsOnly?(c(),H(ke,{key:1,id:"vrx-month-pick",year:n.value,onChangeMonth:U,onChangeYear:K,onChangeStage:y[1]||(y[1]=T=>m.value=T)},null,8,["year"])):b("",!0),m.value==="y"?(c(),H(Ce,{key:2,class:"vrx-datepicker",id:"vrx-year-pick","year-range":d.value,onChangeYear:W,onChangeYearRange:z},null,8,["year-range"])):b("",!0)],40,Fe)),[[C(ae),[r.$refs.main,!1,!1]]]):b("",!0)])):b("",!0)],42,Ye))}}),je=L(He,[["__scopeId","data-v-15245f4a"]]);export{je as V};
//# sourceMappingURL=VrxDatePicker-45a4a2a2.js.map
