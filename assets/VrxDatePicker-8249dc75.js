import{d as _,a as p,h as C,o as g,c as d,e as y,b as h,t as D,u as F,F as k,f as w,n as L,i as H,g as x}from"./vue.esm-bundler-7306b2ef.js";import{V as b}from"./VrxIcon-7936db3b.js";import{V as R}from"./VrxInput-ddbdd671.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";const I=["January","February","March","April","May","June","July","August","September","October","November","December"],T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],te=["Su","Mo","Tu","We","Th","Fr","Sa"];function ne(l,a){const s={MM:String(l.getMonth()+1).length===1?`0${l.getMonth()+1}`:String(l.getMonth()+1),Month:I[l.getMonth()],DD:String(l.getDate()).length===1?`0${l.getDate()}`:String(l.getDate()),YYYY:String(l.getFullYear()),HH:String(l.getHours()).length===1?`0${l.getHours()}`:String(l.getHours()),mm:String(l.getMinutes()).length===1?`0${l.getMinutes()}`:String(l.getMinutes())};return a.replace(/MM|Month|DD|YYYY|HH|mm/gi,o=>s[o])}function P(l,a,s,o,t,e){l.forEach((n,i)=>{let r;s?i<=a&&(r=new Date(o,t,n.number),r.setDate(r.getDate()-(a-i))):i>=a&&(r=new Date(o,t+1,n.number),r.setDate(r.getDate()+(i-a+1))),r&&(l[i]={day:r.getDay(),number:r.getDate(),month:r.getMonth(),year:r.getFullYear(),isToday:r.toDateString()===new Date().toDateString(),isCurrentMonth:r.getMonth()===t,disabled:B(r,e)})})}function B(l,a){var s,o;return a?!!(a[0]&&l.getTime()<((s=a[0])==null?void 0:s.getTime())||a[1]&&l.getTime()>((o=a[1])==null?void 0:o.getTime())):!1}function O(l){return l<10?`0${l}`:`${l}`}const re={class:"w-full h-16 border-t border-gray-200 dark:border-gray-600 flex justify-center gap-2 items-center"},ae=h("span",null,":",-1),oe=_({__name:"TimePick",props:{selectedDate:{}},emits:["changeMinute","changeHour"],setup(l,{emit:a}){const s=l,o=p(s.selectedDate?O(s.selectedDate.getHours()):"00"),t=p(s.selectedDate?O(s.selectedDate.getMinutes()):"00"),e=C(()=>!/^([01][0-9]|2[0-3]):([0-5][0-9])$/.test(o.value+":"+t.value)),n=i=>{e.value||(typeof parseInt(t.value)!="number"||isNaN(parseInt(t.value))?(o.value="00",t.value="00"):parseInt(t.value)+i>=60?t.value="00":parseInt(t.value)+i<=-1?t.value="50":parseInt(t.value)+i<10?t.value="0"+(parseInt(t.value)+i).toString():t.value=(parseInt(t.value)+i).toString(),a("changeHour",o.value),a("changeMinute",t.value))};return(i,r)=>(g(),d("div",re,[y(b,{icon:"chevron-left",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:r[0]||(r[0]=c=>n(-10))}),y(R,{icon:"clock",type:"text",modelValue:o.value,"onUpdate:modelValue":r[1]||(r[1]=c=>o.value=c),class:"w-20",placeholder:"",invalid:e.value,onFocusout:r[2]||(r[2]=()=>e.value?null:a("changeHour",o.value)),onChange:r[3]||(r[3]=()=>e.value?null:a("changeHour",o.value))},null,8,["modelValue","invalid"]),ae,y(R,{icon:"timer",type:"text",modelValue:t.value,"onUpdate:modelValue":r[4]||(r[4]=c=>t.value=c),class:"w-20",placeholder:"",invalid:e.value,onFocusout:r[5]||(r[5]=()=>e.value?null:a("changeMinute",t.value)),onChange:r[6]||(r[6]=()=>e.value?null:a("changeMinute",t.value))},null,8,["modelValue","invalid"]),y(b,{icon:"chevron-right",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:r[7]||(r[7]=c=>n(10))})]))}}),le={class:"flex flex-row justify-between items-center"},se={"aria-describedby":"vrx-table-calendar"},ue={class:"text-gray-400"},ie={class:"font-normal select-none"},ge=["onClick"],ce=_({__name:"DaysPick",props:{month:{},year:{},selectedDate:{},validRange:{},timeEnabled:{type:Boolean}},emits:["changeMonth","changeStage","dayClicked","changeMinute","changeHour"],setup(l,{emit:a}){const s=l,o=C(()=>{let e=new Date(s.year,s.month,1),n=[];for(;e.getMonth()===s.month;)n.push({day:new Date(e).getDay(),number:new Date(e).getDate(),month:new Date(e).getMonth(),year:new Date(e).getFullYear(),isToday:new Date(e).toDateString()===new Date().toDateString(),isCurrentMonth:new Date(e).getMonth()===s.month,disabled:B(e,s.validRange)}),e.setDate(e.getDate()+1);n.sort((v,M)=>v.number-M.number);const i=n[0].day,r=i>=5?6:5;let c=new Array(r).fill(null).map(()=>new Array(7).fill({day:0,number:0,month:0,year:0,isToday:!1,isCurrentMonth:!1,disabled:!1}));n.forEach((v,M)=>{const S=Math.floor((M+i)/7),$=(M+i)%7;c[S][$]=v});let m=c[0].findLastIndex(v=>v.number===0),Y=c[c.length-1].findIndex(v=>v.number===0);return P(c[0],m,!0,s.year,s.month,s.validRange),P(c[c.length-1],Y,!1,s.year,s.month,s.validRange),c}),t=e=>{let n="";return s.selectedDate&&e.number===s.selectedDate.getDate()&&e.month===s.selectedDate.getMonth()&&e.year===s.selectedDate.getFullYear()?n+="bg-blue-700 dark:bg-blue-500 text-white":e.isToday?n+=" text-red-500 dark:text-red-500":e.isCurrentMonth?e.disabled&&(n+=" text-gray-300 dark:text-gray-500 line-through"):(n+=" text-gray-300 dark:text-gray-500 !font-normal",e.disabled&&(n+=" line-through")),n};return(e,n)=>(g(),d(k,null,[h("div",le,[y(b,{icon:"chevron-left",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:n[0]||(n[0]=i=>a("changeMonth",-1))}),h("span",{class:"rounded-lg font-bold hover:bg-gray-200 dark:hover:bg-gray-500 pt-1 pb-1 pr-2 pl-2 cursor-pointer select-none hover:text-blue-700 dark:hover:text-white",onClick:n[1]||(n[1]=()=>a("changeStage","m"))},D(F(I)[e.month]+" "+e.year),1),y(b,{icon:"chevron-right",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:n[2]||(n[2]=i=>a("changeMonth",1))})]),h("table",se,[h("thead",null,[h("tr",ue,[(g(!0),d(k,null,w(F(te),i=>(g(),d("th",ie,D(i),1))),256))])]),h("tbody",null,[(g(!0),d(k,null,w(o.value,i=>(g(),d("tr",null,[(g(!0),d(k,null,w(i,r=>(g(),d("td",{class:L(["hover:bg-gray-200 dark:hover:bg-gray-500 rounded-lg hover:text-blue-700 dark:hover:text-white",t(r)]),onClick:()=>r.disabled?null:a("dayClicked",r)},D(r.number),11,ge))),256))]))),256))])]),e.timeEnabled?(g(),H(oe,{key:0,"selected-date":e.selectedDate,onChangeHour:n[3]||(n[3]=i=>a("changeHour",i)),onChangeMinute:n[4]||(n[4]=i=>a("changeMinute",i))},null,8,["selected-date"])):x("",!0)],64))}});const de=j(ce,[["__scopeId","data-v-9399c3cb"]]),he={class:"flex flex-row justify-between items-center"},ve={class:"flex flex-row flex-wrap justify-between gap-1 p-2"},pe=["onClick"],ye=_({__name:"MonthPick",props:{year:{}},emits:["changeYear","changeMonth","changeStage"],setup(l,{emit:a}){const s=l,o=t=>{a("changeMonth",t)};return(t,e)=>(g(),d(k,null,[h("div",he,[y(b,{icon:"chevron-left",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:e[0]||(e[0]=()=>a("changeYear",-1))}),h("span",{class:"rounded-lg font-bold hover:bg-gray-200 dark:hover:bg-gray-500 pt-1 pb-1 pr-2 pl-2 cursor-pointer select-none hover:text-blue-700 dark:hover:text-white",onClick:e[1]||(e[1]=()=>a("changeStage","y"))},D(s.year),1),y(b,{icon:"chevron-right",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:e[2]||(e[2]=()=>a("changeYear",1))})]),h("div",ve,[(g(!0),d(k,null,w(F(T),n=>(g(),d("div",{class:"font-bold w-16 p-1 rounded-md text-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-500 hover:text-blue-700 dark:hover:text-white",onClick:()=>o(F(T).indexOf(n))},D(n),9,pe))),256))])],64))}}),fe={class:"flex flex-row justify-between items-center"},me={class:"rounded-lg font-bold pt-1 pb-1 pr-2 pl-2 select-none"},be={class:"w-full flex justify-center"},ke={class:"flex flex-row flex-wrap"},De=["onClick"],Me=_({__name:"YearPick",props:{yearRange:{}},emits:["changeYearRange","changeYear"],setup(l,{emit:a}){const s=l,o=C(()=>{let t=[];for(let e=s.yearRange[0];e<=s.yearRange[1];e++)t.push(e);return t});return(t,e)=>(g(),d(k,null,[h("div",fe,[y(b,{icon:"chevron-left",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:e[0]||(e[0]=n=>a("changeYearRange",-10))}),h("span",me,D(t.yearRange.join(" - ")),1),y(b,{icon:"chevron-right",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:e[1]||(e[1]=n=>a("changeYearRange",10))})]),h("div",be,[h("div",ke,[(g(!0),d(k,null,w(o.value,n=>(g(),d("div",{class:"font-bold w-14 p-1 rounded-md text-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-500 hover:text-blue-700 dark:hover:text-white",onClick:i=>a("changeYear",n)},D(n),9,De))),256))])])],64))}}),xe={class:"absolute inset-y-0 left-0 flex items-center pl-3.5 pointer-events-none"},we=_({__name:"VrxDatePicker",props:{type:{},validRange:{},dateFormat:{},monthsOnly:{type:Boolean},placeholder:{},invalid:{type:Boolean}},emits:["dayClicked"],setup(l,{expose:a,emit:s}){const o=l,t=p(),e=p(new Date().getMonth()),n=p(new Date().getFullYear()),i=p(0),r=p(0),c=p([Math.floor(new Date().getFullYear()/10)*10,Math.floor(new Date().getFullYear()/10)*10+10]),m=p(o.monthsOnly?"m":"d"),Y=p(o.validRange),v=p(!1),M=p(),S=()=>{v.value=!0},$=u=>{const f=u?u.relatedTarget:null;f&&(f.classList.contains("dropdown-vrx-picker")||f.classList.contains("vrx-input"))||(v.value=!1)},N=u=>{t.value=new Date(u.year,u.month,u.number,i.value,r.value),t.value.getMonth()!==e.value&&(e.value=t.value.getMonth(),n.value=t.value.getFullYear()),s("dayClicked",t.value)},A=C(()=>o.monthsOnly?I[e.value]+" "+n.value:t.value?ne(t.value,o.dateFormat??"DD-MM-YYYY"):""),J=u=>{e.value+u>11?(e.value=0,n.value+=1):e.value+u<0?(e.value=11,n.value-=1):e.value+=u},E=u=>{n.value+=u},z=u=>{c.value=[c.value[0]+u,c.value[1]+u]},U=u=>{if(e.value=u,o.monthsOnly){v.value=!1;return}m.value="d"},W=u=>{n.value=u,m.value="m"},q=u=>{r.value=u,t.value&&t.value.setMinutes(u)},G=u=>{i.value=u,t.value&&t.value.setHours(u)},K=u=>{t.value=u},Q=u=>{Y.value=u},X=()=>o.monthsOnly?new Date(n.value,e.value,1):t.value,Z=(u,f)=>{o.monthsOnly&&(e.value=u,n.value=f)},ee=C(()=>{switch(o.type){case"date":return"w-48";case"time":return"w-24";case"datetime":return"w-56"}});return a({setDate:K,setValidRange:Q,getDate:X,setMonth:Z,openPicker:S,closePicker:$}),(u,f)=>(g(),d("div",{class:L(["relative text-gray-900 dark:text-white",ee.value]),onFocusout:$},[h("div",xe,[y(b,{icon:u.type==="time"?"clock":"calendar",size:"5"},null,8,["icon"])]),y(R,{"model-value":A.value,icon:"calendar",type:"text",placeholder:o.placeholder??"Select a date",onClick:S,readonly:!0,invalid:o.invalid},null,8,["model-value","placeholder","invalid"]),v.value?(g(),d("div",{key:0,ref_key:"dropdownRef",ref:M,class:"dropdown-vrx-picker absolute w-64 mt-1 p-4 h-auto text-sm rounded-lg bg-gray-50 dark:bg-gray-700 flex flex-col gap-2 shadow-md",tabindex:"-1"},[m.value==="d"&&!o.monthsOnly?(g(),H(de,{key:0,month:e.value,year:n.value,"selected-date":t.value,"valid-range":Y.value,"time-enabled":o.type==="datetime",onChangeStage:f[0]||(f[0]=V=>m.value=V),onChangeMonth:J,onDayClicked:N,onChangeMinute:q,onChangeHour:G},null,8,["month","year","selected-date","valid-range","time-enabled"])):x("",!0),m.value==="m"||o.monthsOnly?(g(),H(ye,{key:1,id:"vrx-month-pick",year:n.value,onChangeMonth:U,onChangeYear:E,onChangeStage:f[1]||(f[1]=V=>m.value=V)},null,8,["year"])):x("",!0),m.value==="y"?(g(),H(Me,{key:2,class:"vrx-datepicker",id:"vrx-year-pick","year-range":c.value,onChangeYear:W,onChangeYearRange:z},null,8,["year-range"])):x("",!0)],512)):x("",!0)],34))}});const $e=j(we,[["__scopeId","data-v-bbe100b6"]]);export{$e as V};
//# sourceMappingURL=VrxDatePicker-8249dc75.js.map
