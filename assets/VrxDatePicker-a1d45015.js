import{d as S,a as p,j as $,o as g,c as d,e as y,b as h,t as k,u as C,F as b,h as Y,n as V,l as H,f as M,g as ne,w as O}from"./vue.esm-bundler-9e96686b.js";import{V as D}from"./VrxIcon-2b5c480d.js";import{V as R}from"./VrxInput-e0664edf.js";/* empty css                                                                */import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";import{v as ae}from"./appendToBody-70f0f50f.js";const I=["January","February","March","April","May","June","July","August","September","October","November","December"],P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],re=["Su","Mo","Tu","We","Th","Fr","Sa"];function oe(s,o){const u={MM:String(s.getMonth()+1).length===1?`0${s.getMonth()+1}`:String(s.getMonth()+1),Month:I[s.getMonth()],DD:String(s.getDate()).length===1?`0${s.getDate()}`:String(s.getDate()),YYYY:String(s.getFullYear()),HH:String(s.getHours()).length===1?`0${s.getHours()}`:String(s.getHours()),mm:String(s.getMinutes()).length===1?`0${s.getMinutes()}`:String(s.getMinutes())};return o.replace(/MM|Month|DD|YYYY|HH|mm/gi,l=>u[l])}function j(s,o,u,l,t,e){s.forEach((n,i)=>{let a;u?i<=o&&(a=new Date(l,t,n.number),a.setDate(a.getDate()-(o-i))):i>=o&&(a=new Date(l,t+1,n.number),a.setDate(a.getDate()+(i-o+1))),a&&(s[i]={day:a.getDay(),number:a.getDate(),month:a.getMonth(),year:a.getFullYear(),isToday:a.toDateString()===new Date().toDateString(),isCurrentMonth:a.getMonth()===t,disabled:A(a,e)})})}function A(s,o){var u,l;return o?!!(o[0]&&s.getTime()<((u=o[0])==null?void 0:u.getTime())||o[1]&&s.getTime()>((l=o[1])==null?void 0:l.getTime())):!1}function B(s){return s<10?`0${s}`:`${s}`}const le={class:"w-full h-16 border-t border-gray-200 dark:border-gray-600 flex justify-center gap-2 items-center"},se=h("span",null,":",-1),ue=S({__name:"TimePick",props:{selectedDate:{}},emits:["changeMinute","changeHour"],setup(s,{emit:o}){const u=s,l=p(u.selectedDate?B(u.selectedDate.getHours()):"00"),t=p(u.selectedDate?B(u.selectedDate.getMinutes()):"00"),e=$(()=>!/^([01][0-9]|2[0-3]):([0-5][0-9])$/.test(l.value+":"+t.value)),n=i=>{e.value||(typeof parseInt(t.value)!="number"||isNaN(parseInt(t.value))?(l.value="00",t.value="00"):parseInt(t.value)+i>=60?t.value="00":parseInt(t.value)+i<=-1?t.value="50":parseInt(t.value)+i<10?t.value="0"+(parseInt(t.value)+i).toString():t.value=(parseInt(t.value)+i).toString(),o("changeHour",l.value),o("changeMinute",t.value))};return(i,a)=>(g(),d("div",le,[y(D,{icon:"chevron-left",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:a[0]||(a[0]=c=>n(-10))}),y(R,{icon:"clock",type:"text",modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=c=>l.value=c),class:"w-20",placeholder:"",invalid:e.value,onFocusout:a[2]||(a[2]=()=>e.value?null:o("changeHour",l.value)),onChange:a[3]||(a[3]=()=>e.value?null:o("changeHour",l.value))},null,8,["modelValue","invalid"]),se,y(R,{icon:"timer",type:"text",modelValue:t.value,"onUpdate:modelValue":a[4]||(a[4]=c=>t.value=c),class:"w-20",placeholder:"",invalid:e.value,onFocusout:a[5]||(a[5]=()=>e.value?null:o("changeMinute",t.value)),onChange:a[6]||(a[6]=()=>e.value?null:o("changeMinute",t.value))},null,8,["modelValue","invalid"]),y(D,{icon:"chevron-right",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:a[7]||(a[7]=c=>n(10))})]))}}),ie={class:"flex flex-row justify-between items-center"},ge={"aria-describedby":"vrx-table-calendar"},ce={class:"text-gray-400"},de={class:"font-normal select-none"},he=["onClick"],ve=S({__name:"DaysPick",props:{month:{},year:{},selectedDate:{},validRange:{},timeEnabled:{type:Boolean}},emits:["changeMonth","changeStage","dayClicked","changeMinute","changeHour"],setup(s,{emit:o}){const u=s,l=$(()=>{let e=new Date(u.year,u.month,1),n=[];for(;e.getMonth()===u.month;)n.push({day:new Date(e).getDay(),number:new Date(e).getDate(),month:new Date(e).getMonth(),year:new Date(e).getFullYear(),isToday:new Date(e).toDateString()===new Date().toDateString(),isCurrentMonth:new Date(e).getMonth()===u.month,disabled:A(e,u.validRange)}),e.setDate(e.getDate()+1);n.sort((v,x)=>v.number-x.number);const i=n[0].day,a=i>=5?6:5;let c=new Array(a).fill(null).map(()=>new Array(7).fill({day:0,number:0,month:0,year:0,isToday:!1,isCurrentMonth:!1,disabled:!1}));n.forEach((v,x)=>{const F=Math.floor((x+i)/7),w=(x+i)%7;c[F][w]=v});let m=c[0].findLastIndex(v=>v.number===0),_=c[c.length-1].findIndex(v=>v.number===0);return j(c[0],m,!0,u.year,u.month,u.validRange),j(c[c.length-1],_,!1,u.year,u.month,u.validRange),c}),t=e=>{let n="";return u.selectedDate&&e.number===u.selectedDate.getDate()&&e.month===u.selectedDate.getMonth()&&e.year===u.selectedDate.getFullYear()?n+="bg-blue-700 dark:bg-blue-500 text-white":e.isToday?n+=" text-red-500 dark:text-red-500":e.isCurrentMonth?e.disabled&&(n+=" text-gray-300 dark:text-gray-500 line-through"):(n+=" text-gray-300 dark:text-gray-500 !font-normal",e.disabled&&(n+=" line-through")),n};return(e,n)=>(g(),d(b,null,[h("div",ie,[y(D,{icon:"chevron-left",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:n[0]||(n[0]=i=>o("changeMonth",-1))}),h("span",{class:"rounded-lg font-bold hover:bg-gray-200 dark:hover:bg-gray-500 pt-1 pb-1 pr-2 pl-2 cursor-pointer select-none hover:text-blue-700 dark:hover:text-white",onClick:n[1]||(n[1]=()=>o("changeStage","m"))},k(C(I)[e.month]+" "+e.year),1),y(D,{icon:"chevron-right",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:n[2]||(n[2]=i=>o("changeMonth",1))})]),h("table",ge,[h("thead",null,[h("tr",ce,[(g(!0),d(b,null,Y(C(re),i=>(g(),d("th",de,k(i),1))),256))])]),h("tbody",null,[(g(!0),d(b,null,Y(l.value,i=>(g(),d("tr",null,[(g(!0),d(b,null,Y(i,a=>(g(),d("td",{class:V(["hover:bg-gray-200 dark:hover:bg-gray-500 rounded-lg hover:text-blue-700 dark:hover:text-white",t(a)]),onClick:()=>a.disabled?null:o("dayClicked",a)},k(a.number),11,he))),256))]))),256))])]),e.timeEnabled?(g(),H(ue,{key:0,"selected-date":e.selectedDate,onChangeHour:n[3]||(n[3]=i=>o("changeHour",i)),onChangeMinute:n[4]||(n[4]=i=>o("changeMinute",i))},null,8,["selected-date"])):M("",!0)],64))}}),pe=L(ve,[["__scopeId","data-v-9399c3cb"]]),ye={class:"flex flex-row justify-between items-center"},fe={class:"flex flex-row flex-wrap justify-between gap-1 p-2"},me=["onClick"],be=S({__name:"MonthPick",props:{year:{}},emits:["changeYear","changeMonth","changeStage"],setup(s,{emit:o}){const u=s,l=t=>{o("changeMonth",t)};return(t,e)=>(g(),d(b,null,[h("div",ye,[y(D,{icon:"chevron-left",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:e[0]||(e[0]=()=>o("changeYear",-1))}),h("span",{class:"rounded-lg font-bold hover:bg-gray-200 dark:hover:bg-gray-500 pt-1 pb-1 pr-2 pl-2 cursor-pointer select-none hover:text-blue-700 dark:hover:text-white",onClick:e[1]||(e[1]=()=>o("changeStage","y"))},k(u.year),1),y(D,{icon:"chevron-right",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:e[2]||(e[2]=()=>o("changeYear",1))})]),h("div",fe,[(g(!0),d(b,null,Y(C(P),n=>(g(),d("div",{class:"font-bold w-16 p-1 rounded-md text-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-500 hover:text-blue-700 dark:hover:text-white",onClick:()=>l(C(P).indexOf(n))},k(n),9,me))),256))])],64))}}),ke={class:"flex flex-row justify-between items-center"},De={class:"rounded-lg font-bold pt-1 pb-1 pr-2 pl-2 select-none"},we={class:"w-full flex justify-center"},Me={class:"flex flex-row flex-wrap"},xe=["onClick"],Ce=S({__name:"YearPick",props:{yearRange:{}},emits:["changeYearRange","changeYear"],setup(s,{emit:o}){const u=s,l=$(()=>{let t=[];for(let e=u.yearRange[0];e<=u.yearRange[1];e++)t.push(e);return t});return(t,e)=>(g(),d(b,null,[h("div",ke,[y(D,{icon:"chevron-left",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:e[0]||(e[0]=n=>o("changeYearRange",-10))}),h("span",De,k(t.yearRange.join(" - ")),1),y(D,{icon:"chevron-right",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:e[1]||(e[1]=n=>o("changeYearRange",10))})]),h("div",we,[h("div",Me,[(g(!0),d(b,null,Y(l.value,n=>(g(),d("div",{class:"font-bold w-14 p-1 rounded-md text-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-500 hover:text-blue-700 dark:hover:text-white",onClick:i=>o("changeYear",n)},k(n),9,xe))),256))])])],64))}}),Ye=["onKeydown"],$e={class:"h-fit w-fit",ref:"main"},Se={key:0},_e={key:1,class:"fixed top-0 left-0 w-full h-full z-20"},Fe=["onKeydown"],He=S({__name:"VrxDatePicker",props:{type:{},validRange:{},dateFormat:{},monthsOnly:{type:Boolean},placeholder:{},invalid:{type:Boolean},date:{},helperText:{},label:{}},emits:["dayClicked"],setup(s,{expose:o,emit:u}){const l=s,t=l.date?l.date:p(new Date),e=p(new Date().getMonth()),n=p(new Date().getFullYear()),i=p(0),a=p(0),c=p([Math.floor(new Date().getFullYear()/10)*10,Math.floor(new Date().getFullYear()/10)*10+10]),m=p(l.monthsOnly?"m":"d"),_=p(l.validRange),v=p(!1),x=p(),F=()=>{v.value=!0},w=r=>{const f=r?r.relatedTarget:null;f&&(f.classList.contains("dropdown-vrx-picker")||f.classList.contains("vrx-input"))||(v.value=!1)},N=r=>{t.value=new Date(r.year,r.month,r.number,i.value,a.value),t.value.getMonth()!==e.value&&(e.value=t.value.getMonth(),n.value=t.value.getFullYear()),u("dayClicked",t.value),v.value=!1},J=$(()=>l.monthsOnly?I[e.value]+" "+n.value:t.value?oe(t.value,l.dateFormat??"DD-MM-YYYY"):""),E=r=>{e.value+r>11?(e.value=0,n.value+=1):e.value+r<0?(e.value=11,n.value-=1):e.value+=r},K=r=>{n.value+=r},z=r=>{c.value=[c.value[0]+r,c.value[1]+r]},U=r=>{if(e.value=r,l.monthsOnly){v.value=!1;return}m.value="d"},W=r=>{n.value=r,m.value="m"},q=r=>{a.value=r,t.value&&t.value.setMinutes(r)},G=r=>{i.value=r,t.value&&t.value.setHours(r)},Q=r=>{t.value=r},X=r=>{_.value=r},Z=()=>l.monthsOnly?new Date(n.value,e.value,1):t.value,ee=(r,f)=>{l.monthsOnly&&(e.value=r,n.value=f)},te=$(()=>{switch(l.type){case"date":return"w-48";case"time":return"w-24";case"datetime":return"w-56"}});return o({setDate:Q,setValidRange:X,getDate:Z,setMonth:ee,openPicker:F,closePicker:w}),(r,f)=>(g(),d("div",{class:V(["relative text-gray-900 dark:text-white",te.value]),onFocusout:w,onKeydown:O(w,["esc"])},[h("div",$e,[y(R,{"model-value":J.value,icon:"calendar",label:r.label,type:"text",placeholder:r.placeholder??"Select a date",onClick:F,readonly:!0,invalid:r.invalid},null,8,["model-value","label","placeholder","invalid"])],512),r.helperText?(g(),d("div",Se,[h("p",{class:V(["mt-2 text-sm text-gray-500 dark:text-gray-400",r.invalid?"text-red-500":""])},k(r.helperText),3)])):M("",!0),v.value?(g(),d("div",_e,[v.value?ne((g(),d("div",{key:0,ref_key:"dropdownRef",ref:x,class:"dropdown-vrx-picker absolute w-64 mt-1 p-4 h-auto text-sm rounded-lg bg-gray-50 dark:bg-gray-700 flex flex-col gap-2 shadow-md",tabindex:"-1",onFocusout:w,onKeydown:O(w,["esc"])},[m.value==="d"&&!l.monthsOnly?(g(),H(pe,{key:0,month:e.value,year:n.value,"selected-date":C(t),"valid-range":_.value,"time-enabled":l.type==="datetime",onChangeStage:f[0]||(f[0]=T=>m.value=T),onChangeMonth:E,onDayClicked:N,onChangeMinute:q,onChangeHour:G},null,8,["month","year","selected-date","valid-range","time-enabled"])):M("",!0),m.value==="m"||l.monthsOnly?(g(),H(be,{key:1,id:"vrx-month-pick",year:n.value,onChangeMonth:U,onChangeYear:K,onChangeStage:f[1]||(f[1]=T=>m.value=T)},null,8,["year"])):M("",!0),m.value==="y"?(g(),H(Ce,{key:2,class:"vrx-datepicker",id:"vrx-year-pick","year-range":c.value,onChangeYear:W,onChangeYearRange:z},null,8,["year-range"])):M("",!0)],40,Fe)),[[C(ae),[r.$refs.main,!1,!1]]]):M("",!0)])):M("",!0)],42,Ye))}}),je=L(He,[["__scopeId","data-v-5bc0808b"]]);export{je as V};
//# sourceMappingURL=VrxDatePicker-a1d45015.js.map
