import{d as Y,a as p,f as C,o as c,c as g,b as y,e as d,t as M,u as H,F as k,g as _,n as E,h as V,i as x,w as te}from"./vue.esm-bundler-84f6f0ac.js";import{V as m}from"./VrxIcon-2a6c4c2e.js";import{V as O}from"./VrxInput-6f44fd7c.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";const R=["January","February","March","April","May","June","July","August","September","October","November","December"],P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],ne=["Su","Mo","Tu","We","Th","Fr","Sa"];function re(i,l){const a={MM:String(i.getMonth()+1).length===1?`0${i.getMonth()+1}`:String(i.getMonth()+1),Month:R[i.getMonth()],DD:String(i.getDate()).length===1?`0${i.getDate()}`:String(i.getDate()),YYYY:String(i.getFullYear()),HH:String(i.getHours()).length===1?`0${i.getHours()}`:String(i.getHours()),mm:String(i.getMinutes()).length===1?`0${i.getMinutes()}`:String(i.getMinutes())};return l.replace(/MM|Month|DD|YYYY|HH|mm/gi,n=>a[n])}function T(i,l,a,n,s,e){i.forEach((t,o)=>{let u;a?o<=l&&(u=new Date(n,s,t.number),u.setDate(u.getDate()-(l-o))):o>=l&&(u=new Date(n,s+1,t.number),u.setDate(u.getDate()+(o-l+1))),u&&(i[o]={day:u.getDay(),number:u.getDate(),month:u.getMonth(),year:u.getFullYear(),isToday:u.toDateString()===new Date().toDateString(),isCurrentMonth:u.getMonth()===s,disabled:j(u,e)})})}function j(i,l){var a,n;return l?!!(l[0]&&i.getTime()<((a=l[0])==null?void 0:a.getTime())||l[1]&&i.getTime()>((n=l[1])==null?void 0:n.getTime())):!1}const ae={class:"w-full h-16 border-t border-gray-200 dark:border-gray-600 flex justify-center gap-2 items-center"},oe=d("span",null,":",-1),le=Y({__name:"TimePick",emits:["changeMinute","changeHour"],setup(i,{emit:l}){const a=p("00"),n=p("00"),s=C(()=>!/^([01][0-9]|2[0-3]):([0-5][0-9])$/.test(a.value+":"+n.value)),e=t=>{s.value||(typeof parseInt(n.value)!="number"||isNaN(parseInt(n.value))?(a.value="00",n.value="00"):parseInt(n.value)+t>=60?n.value="00":parseInt(n.value)+t<=-1?n.value="50":parseInt(n.value)+t<10?n.value="0"+(parseInt(n.value)+t).toString():n.value=(parseInt(n.value)+t).toString(),l("changeHour",a.value),l("changeMinute",n.value))};return(t,o)=>(c(),g("div",ae,[y(m,{icon:"chevron-left",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:o[0]||(o[0]=u=>e(-10))}),y(O,{icon:"clock",type:"text",modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=u=>a.value=u),class:"w-20",placeholder:"",invalid:s.value,onChange:o[2]||(o[2]=()=>s.value?null:l("changeHour",a.value))},null,8,["modelValue","invalid"]),oe,y(O,{icon:"timer",type:"text",modelValue:n.value,"onUpdate:modelValue":o[3]||(o[3]=u=>n.value=u),class:"w-20",placeholder:"",invalid:s.value,onChange:o[4]||(o[4]=()=>s.value?null:l("changeMinute",n.value))},null,8,["modelValue","invalid"]),y(m,{icon:"chevron-right",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:o[5]||(o[5]=u=>e(10))})]))}}),se={class:"flex flex-row justify-between items-center"},ue={"aria-describedby":"vrx-table-calendar"},ie={class:"text-gray-400"},ce={class:"font-normal select-none"},ge=["onClick"],de=Y({__name:"DaysPick",props:{month:{},year:{},selectedDate:{},validRange:{},timeEnabled:{type:Boolean}},emits:["changeMonth","changeStage","dayClicked","changeMinute","changeHour"],setup(i,{emit:l}){const a=i,n=C(()=>{let e=new Date(a.year,a.month,1),t=[];for(;e.getMonth()===a.month;)t.push({day:new Date(e).getDay(),number:new Date(e).getDate(),month:new Date(e).getMonth(),year:new Date(e).getFullYear(),isToday:new Date(e).toDateString()===new Date().toDateString(),isCurrentMonth:new Date(e).getMonth()===a.month,disabled:j(e,a.validRange)}),e.setDate(e.getDate()+1);t.sort((v,w)=>v.number-w.number);const o=t[0].day,u=o>=5?6:5;let h=new Array(u).fill(null).map(()=>new Array(7).fill({day:0,number:0,month:0,year:0,isToday:!1,isCurrentMonth:!1,disabled:!1}));t.forEach((v,w)=>{const $=Math.floor((w+o)/7),F=(w+o)%7;h[$][F]=v});let f=h[0].findLastIndex(v=>v.number===0),S=h[h.length-1].findIndex(v=>v.number===0);return T(h[0],f,!0,a.year,a.month,a.validRange),T(h[h.length-1],S,!1,a.year,a.month,a.validRange),h}),s=e=>{let t="";return a.selectedDate&&e.number===a.selectedDate.getDate()&&e.month===a.selectedDate.getMonth()&&e.year===a.selectedDate.getFullYear()?t+="bg-blue-700 dark:bg-blue-500 text-white":e.isToday?t+=" text-blue-700 dark:text-blue-500":e.isCurrentMonth?e.disabled&&(t+=" text-gray-300 dark:text-gray-500 line-through"):(t+=" text-gray-300 dark:text-gray-500 !font-normal",e.disabled&&(t+=" line-through")),t};return(e,t)=>(c(),g(k,null,[d("div",se,[y(m,{icon:"chevron-left",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:t[0]||(t[0]=o=>l("changeMonth",-1))}),d("span",{class:"rounded-lg font-bold hover:bg-gray-200 dark:hover:bg-gray-500 pt-1 pb-1 pr-2 pl-2 cursor-pointer select-none hover:text-blue-700 dark:hover:text-white",onClick:t[1]||(t[1]=()=>l("changeStage","m"))},M(H(R)[e.month]+" "+e.year),1),y(m,{icon:"chevron-right",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:t[2]||(t[2]=o=>l("changeMonth",1))})]),d("table",ue,[d("thead",null,[d("tr",ie,[(c(!0),g(k,null,_(H(ne),o=>(c(),g("th",ce,M(o),1))),256))])]),d("tbody",null,[(c(!0),g(k,null,_(n.value,o=>(c(),g("tr",null,[(c(!0),g(k,null,_(o,u=>(c(),g("td",{class:E(["hover:bg-gray-200 dark:hover:bg-gray-500 rounded-lg hover:text-blue-700 dark:hover:text-white",s(u)]),onClick:()=>u.disabled?null:l("dayClicked",u)},M(u.number),11,ge))),256))]))),256))])]),e.timeEnabled?(c(),V(le,{key:0,onChangeHour:t[3]||(t[3]=o=>l("changeHour",o)),onChangeMinute:t[4]||(t[4]=o=>l("changeMinute",o))})):x("",!0)],64))}});const he=L(de,[["__scopeId","data-v-538bc5c1"]]),ve={class:"flex flex-row justify-between items-center"},pe={class:"flex flex-row flex-wrap justify-between gap-1 p-2"},ye=["onClick"],fe=Y({__name:"MonthPick",props:{year:{}},emits:["changeYear","changeMonth","changeStage"],setup(i,{emit:l}){const a=i,n=s=>{l("changeMonth",s)};return(s,e)=>(c(),g(k,null,[d("div",ve,[y(m,{icon:"chevron-left",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:e[0]||(e[0]=()=>l("changeYear",-1))}),d("span",{class:"rounded-lg font-bold hover:bg-gray-200 dark:hover:bg-gray-500 pt-1 pb-1 pr-2 pl-2 cursor-pointer select-none hover:text-blue-700 dark:hover:text-white",onClick:e[1]||(e[1]=()=>l("changeStage","y"))},M(a.year),1),y(m,{icon:"chevron-right",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:e[2]||(e[2]=()=>l("changeYear",1))})]),d("div",pe,[(c(!0),g(k,null,_(H(P),t=>(c(),g("div",{class:"font-bold w-16 p-1 rounded-md text-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-500 hover:text-blue-700 dark:hover:text-white",onClick:()=>n(H(P).indexOf(t))},M(t),9,ye))),256))])],64))}}),me={class:"flex flex-row justify-between items-center"},be={class:"rounded-lg font-bold pt-1 pb-1 pr-2 pl-2 select-none"},ke={class:"w-full flex justify-center"},De={class:"flex flex-row flex-wrap"},Me=["onClick"],we=Y({__name:"YearPick",props:{yearRange:{}},emits:["changeYearRange","changeYear"],setup(i,{emit:l}){const a=i,n=C(()=>{let s=[];for(let e=a.yearRange[0];e<=a.yearRange[1];e++)s.push(e);return s});return(s,e)=>(c(),g(k,null,[d("div",me,[y(m,{icon:"chevron-left",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:e[0]||(e[0]=t=>l("changeYearRange",-10))}),d("span",be,M(s.yearRange.join(" - ")),1),y(m,{icon:"chevron-right",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:e[1]||(e[1]=t=>l("changeYearRange",10))})]),d("div",ke,[d("div",De,[(c(!0),g(k,null,_(n.value,t=>(c(),g("div",{class:"font-bold w-14 p-1 rounded-md text-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-500 hover:text-blue-700 dark:hover:text-white",onClick:o=>l("changeYear",t)},M(t),9,Me))),256))])])],64))}}),xe={class:"absolute inset-y-0 left-0 flex items-center pl-3.5 pointer-events-none"},_e=Y({__name:"VrxDatePicker",props:{type:{},validRange:{},dateFormat:{},monthsOnly:{type:Boolean},placeholder:{},invalid:{type:Boolean}},emits:["dayClicked"],setup(i,{expose:l,emit:a}){const n=i,s=p(),e=p(new Date().getMonth()),t=p(new Date().getFullYear()),o=p(0),u=p(0),h=p([Math.floor(new Date().getFullYear()/10)*10,Math.floor(new Date().getFullYear()/10)*10+10]),f=p(n.monthsOnly?"m":"d"),S=p(n.validRange),v=p(!1),w=p(),$=()=>{v.value=!0},F={mounted(r,b){r.clickOutsideEvent=function(D){r===D.target||r.contains(D.target)||b.value(D,r)},document.body.addEventListener("click",r.clickOutsideEvent)},unmounted(r){document.body.removeEventListener("click",r.clickOutsideEvent)}},I=()=>{v.value=!1},B=r=>{s.value=new Date(r.year,r.month,r.number,o.value,u.value),s.value.getMonth()!==e.value&&(e.value=s.value.getMonth(),t.value=s.value.getFullYear()),a("dayClicked",s.value)},N=C(()=>n.monthsOnly?R[e.value]+" "+t.value:s.value?re(s.value,n.dateFormat??"DD-MM-YYYY"):""),A=r=>{e.value+r>11?(e.value=0,t.value+=1):e.value+r<0?(e.value=11,t.value-=1):e.value+=r},J=r=>{t.value+=r},z=r=>{h.value=[h.value[0]+r,h.value[1]+r]},U=r=>{if(e.value=r,n.monthsOnly){v.value=!1;return}f.value="d"},W=r=>{t.value=r,f.value="m"},q=r=>{u.value=r,s.value&&s.value.setMinutes(r)},G=r=>{o.value=r,s.value&&s.value.setHours(r)},K=r=>{s.value=r},Q=r=>{S.value=r},X=()=>n.monthsOnly?new Date(t.value,e.value,1):s.value,Z=(r,b)=>{n.monthsOnly&&(e.value=r,t.value=b)},ee=C(()=>{switch(n.type){case"date":return"w-48";case"time":return"w-24";case"datetime":return"w-56"}});return l({setDate:K,setValidRange:Q,getDate:X,setMonth:Z,openPicker:$,closePicker:I}),(r,b)=>te((c(),g("div",{class:E(["relative text-gray-900 dark:text-white",ee.value])},[d("div",xe,[y(m,{icon:r.type==="time"?"clock":"calendar",size:"5"},null,8,["icon"])]),y(O,{"model-value":N.value,icon:"calendar",type:"text",placeholder:n.placeholder??"Select a date",onClick:$,readonly:!0,invalid:n.invalid},null,8,["model-value","placeholder","invalid"]),v.value?(c(),g("div",{key:0,ref_key:"dropdownRef",ref:w,class:"dropdown absolute w-64 mt-1 p-4 h-auto text-sm rounded-lg bg-gray-50 dark:bg-gray-700 flex flex-col gap-2 shadow-md",tabindex:"-1"},[f.value==="d"&&!n.monthsOnly?(c(),V(he,{key:0,month:e.value,year:t.value,"selected-date":s.value,"valid-range":S.value,"time-enabled":n.type==="datetime",onChangeStage:b[0]||(b[0]=D=>f.value=D),onChangeMonth:A,onDayClicked:B,onChangeMinute:q,onChangeHour:G},null,8,["month","year","selected-date","valid-range","time-enabled"])):x("",!0),f.value==="m"||n.monthsOnly?(c(),V(fe,{key:1,year:t.value,onChangeMonth:U,onChangeYear:J,onChangeStage:b[1]||(b[1]=D=>f.value=D)},null,8,["year"])):x("",!0),f.value==="y"?(c(),V(we,{key:2,"year-range":h.value,onChangeYear:W,onChangeYearRange:z},null,8,["year-range"])):x("",!0)],512)):x("",!0)],2)),[[F,I]])}});const Ve=L(_e,[["__scopeId","data-v-2dfef44d"]]);export{Ve as V};
//# sourceMappingURL=VrxDatePicker-c346594a.js.map
