import{d as V,a as h,b as $,o as p,c as g,p as m,e as v,t as D,v as S,F as x,k as Y,n as R,y as H,q as w,m as P,u as le,s as re,w as B,R as oe}from"./vue.esm-bundler-b6bff0ca.js";import{V as M}from"./VrxIcon-74fe102c.js";import{V as I}from"./VrxInput-99ad1489.js";import"./VrxGrid.vue_vue_type_style_index_0_scoped_3a3a4c45_lang-dc8a5127.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";import{v as se}from"./appendToBody-70f0f50f.js";const O=["January","February","March","April","May","June","July","August","September","October","November","December"],L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],ie=["Su","Mo","Tu","We","Th","Fr","Sa"];function ue(s,c){const l={MM:String(s.getMonth()+1).length===1?`0${s.getMonth()+1}`:String(s.getMonth()+1),Month:O[s.getMonth()],DD:String(s.getDate()).length===1?`0${s.getDate()}`:String(s.getDate()),YYYY:String(s.getFullYear()),HH:String(s.getHours()).length===1?`0${s.getHours()}`:String(s.getHours()),mm:String(s.getMinutes()).length===1?`0${s.getMinutes()}`:String(s.getMinutes())};return c.replace(/MM|Month|DD|YYYY|HH|mm/gi,o=>l[o])}function j(s,c,l,o,i,t){s.forEach((e,n)=>{let a;l?n<=c&&(a=new Date(o,i,e.number),a.setDate(a.getDate()-(c-n))):n>=c&&(a=new Date(o,i+1,e.number),a.setDate(a.getDate()+(n-c+1))),a&&(s[n]={day:a.getDay(),number:a.getDate(),month:a.getMonth(),year:a.getFullYear(),isToday:a.toDateString()===new Date().toDateString(),isCurrentMonth:a.getMonth()===i,disabled:J(a,t)})})}function J(s,c){var l,o;return c?!!(c[0]&&s.getTime()<((l=c[0])==null?void 0:l.getTime())||c[1]&&s.getTime()>((o=c[1])==null?void 0:o.getTime())):!1}function A(s){return s<10?`0${s}`:`${s}`}const ce={class:"w-full h-16 border-t vrxdatepicker-timepicker-bg-style flex justify-center gap-2 items-center"},de=v("span",null,":",-1),pe=V({__name:"TimePick",props:{selectedDate:{}},emits:["changeMinute","changeHour"],setup(s,{emit:c}){const l=c,o=s,i=h(o.selectedDate?A(o.selectedDate.getHours()):"00"),t=h(o.selectedDate?A(o.selectedDate.getMinutes()):"00"),e=$(()=>!/^([01][0-9]|2[0-3]):([0-5][0-9])$/.test(i.value+":"+t.value)),n=a=>{e.value||(typeof parseInt(t.value)!="number"||isNaN(parseInt(t.value))?(i.value="00",t.value="00"):parseInt(t.value)+a>=60?t.value="00":parseInt(t.value)+a<=-1?t.value="50":parseInt(t.value)+a<10?t.value="0"+(parseInt(t.value)+a).toString():t.value=(parseInt(t.value)+a).toString(),l("changeHour",i.value),l("changeMinute",t.value))};return(a,u)=>(p(),g("div",ce,[m(M,{icon:"chevron-left",class:"rounded-lg vrxdatepicker-timepicker-text-style cursor-pointer",onClick:u[0]||(u[0]=d=>n(-10))}),m(I,{icon:"clock",type:"text",modelValue:i.value,"onUpdate:modelValue":u[1]||(u[1]=d=>i.value=d),class:"w-20",placeholder:"",invalid:e.value,onFocusout:u[2]||(u[2]=()=>e.value?null:l("changeHour",i.value)),onChange:u[3]||(u[3]=()=>e.value?null:l("changeHour",i.value))},null,8,["modelValue","invalid"]),de,m(I,{icon:"timer",type:"text",modelValue:t.value,"onUpdate:modelValue":u[4]||(u[4]=d=>t.value=d),class:"w-20",placeholder:"",invalid:e.value,onFocusout:u[5]||(u[5]=()=>e.value?null:l("changeMinute",t.value)),onChange:u[6]||(u[6]=()=>e.value?null:l("changeMinute",t.value))},null,8,["modelValue","invalid"]),m(M,{icon:"chevron-right",class:"rounded-lg vrxdatepicker-timepicker-text-style cursor-pointer",onClick:u[7]||(u[7]=d=>n(10))})]))}}),ge={class:"flex flex-row justify-between items-center"},ve={"aria-describedby":"vrx-table-calendar"},he={class:"text-primary-400"},me={class:"font-normal select-none"},fe=["onClick"],ye=V({__name:"DaysPick",props:{month:{},year:{},selectedDate:{},validRange:{},timeEnabled:{type:Boolean}},emits:["changeMonth","changeStage","dayClicked","changeMinute","changeHour"],setup(s,{emit:c}){const l=s,o=c,i=$(()=>{let e=new Date(l.year,l.month,1),n=[];for(;e.getMonth()===l.month;)n.push({day:new Date(e).getDay(),number:new Date(e).getDate(),month:new Date(e).getMonth(),year:new Date(e).getFullYear(),isToday:new Date(e).toDateString()===new Date().toDateString(),isCurrentMonth:new Date(e).getMonth()===l.month,disabled:J(e,l.validRange)}),e.setDate(e.getDate()+1);n.sort((f,C)=>f.number-C.number);const a=n[0].day,u=a>=5?6:5;let d=new Array(u).fill(null).map(()=>new Array(7).fill({day:0,number:0,month:0,year:0,isToday:!1,isCurrentMonth:!1,disabled:!1}));n.forEach((f,C)=>{const _=Math.floor((C+a)/7),b=(C+a)%7;d[_][b]=f});let F=d[0].findLastIndex(f=>f.number===0),k=d[d.length-1].findIndex(f=>f.number===0);return j(d[0],F,!0,l.year,l.month,l.validRange),j(d[d.length-1],k,!1,l.year,l.month,l.validRange),d}),t=e=>{let n="";return l.selectedDate&&e.number===l.selectedDate.getDate()&&e.month===l.selectedDate.getMonth()&&e.year===l.selectedDate.getFullYear()?n+=" vrxdatepicker-daypicker-isselected-style":e.isToday?n+=" vrxdatepicker-daypicker-istoday-style":e.isCurrentMonth?e.disabled&&(n+=" vrxdatepicker-daypicker-isdisabled-style line-through"):(n+=" vrxdatepicker-daypicker-iscurrentmonth-style !font-normal",e.disabled&&(n+=" line-through")),n};return(e,n)=>(p(),g(x,null,[v("div",ge,[m(M,{icon:"chevron-left",class:"rounded-lg vrxdatepicker-daypicker-text-style cursor-pointer",onClick:n[0]||(n[0]=a=>o("changeMonth",-1))}),v("span",{class:"rounded-lg font-bold vrxdatepicker-daypicker-text-style pt-1 pb-1 pr-2 pl-2 cursor-pointer select-none",onClick:n[1]||(n[1]=()=>o("changeStage","m"))},D(S(O)[e.month]+" "+e.year),1),m(M,{icon:"chevron-right",class:"rounded-lg vrxdatepicker-daypicker-text-style cursor-pointer",onClick:n[2]||(n[2]=a=>o("changeMonth",1))})]),v("table",ve,[v("thead",null,[v("tr",he,[(p(!0),g(x,null,Y(S(ie),a=>(p(),g("th",me,D(a),1))),256))])]),v("tbody",null,[(p(!0),g(x,null,Y(i.value,a=>(p(),g("tr",null,[(p(!0),g(x,null,Y(a,u=>(p(),g("td",{class:R(["rounded-lg vrxdatepicker-daypicker-text-style",t(u)]),onClick:()=>u.disabled?null:o("dayClicked",u)},D(u.number),11,fe))),256))]))),256))])]),e.timeEnabled?(p(),H(pe,{key:0,"selected-date":e.selectedDate,onChangeHour:n[3]||(n[3]=a=>o("changeHour",a)),onChangeMinute:n[4]||(n[4]=a=>o("changeMinute",a))},null,8,["selected-date"])):w("",!0)],64))}}),ke=N(ye,[["__scopeId","data-v-15a39e92"]]),xe={class:"flex flex-row justify-between items-center"},De={class:"flex flex-row flex-wrap justify-between gap-1 p-2"},Me=["onClick"],be=V({__name:"MonthPick",props:{year:{}},emits:["changeYear","changeMonth","changeStage"],setup(s,{emit:c}){const l=c,o=s,i=t=>{l("changeMonth",t)};return(t,e)=>(p(),g(x,null,[v("div",xe,[m(M,{icon:"chevron-left",class:"rounded-lg vrxdatepicker-monthpicker-text-style cursor-pointer",onClick:e[0]||(e[0]=()=>l("changeYear",-1))}),v("span",{class:"rounded-lg font-bold vrxdatepicker-monthpicker-text-style pt-1 pb-1 pr-2 pl-2 cursor-pointer select-none",onClick:e[1]||(e[1]=()=>l("changeStage","y"))},D(o.year),1),m(M,{icon:"chevron-right",class:"rounded-lg vrxdatepicker-monthpicker-text-style cursor-pointer",onClick:e[2]||(e[2]=()=>l("changeYear",1))})]),v("div",De,[(p(!0),g(x,null,Y(S(L),n=>(p(),g("div",{class:"font-bold w-16 p-1 rounded-md text-center cursor-pointer vrxdatepicker-monthpicker-text-style",onClick:()=>i(S(L).indexOf(n))},D(n),9,Me))),256))])],64))}}),we={class:"flex flex-row justify-between items-center"},Ce={class:"rounded-lg vrxdatepicker-yearpicker-header-text-style font-bold pt-1 pb-1 pr-2 pl-2 select-none"},Ye={class:"w-full flex justify-center"},$e={class:"flex flex-row flex-wrap"},Se=["onClick"],Ve=V({__name:"YearPick",props:{yearRange:{}},emits:["changeYearRange","changeYear"],setup(s,{emit:c}){const l=s,o=$(()=>{let t=[];for(let e=l.yearRange[0];e<=l.yearRange[1];e++)t.push(e);return t}),i=c;return(t,e)=>(p(),g(x,null,[v("div",we,[m(M,{icon:"chevron-left",class:"rounded-lg vrxdatepicker-yearpicker-text-style cursor-pointer",onClick:e[0]||(e[0]=n=>i("changeYearRange",-10))}),v("span",Ce,D(t.yearRange.join(" - ")),1),m(M,{icon:"chevron-right",class:"rounded-lg vrxdatepicker-yearpicker-text-style cursor-pointer",onClick:e[1]||(e[1]=n=>i("changeYearRange",10))})]),v("div",Ye,[v("div",$e,[(p(!0),g(x,null,Y(o.value,n=>(p(),g("div",{class:"font-bold w-14 p-1 rounded-md text-center cursor-pointer vrxdatepicker-yearpicker-text-style",onClick:a=>i("changeYear",n)},D(n),9,Se))),256))])])],64))}}),Fe={class:"h-fit w-fit",ref:"main"},_e={key:0},He={key:1,class:"fixed top-0 left-0 w-full h-full z-20"},Te=V({__name:"VrxDatePicker",props:P({type:{},validRange:{},dateFormat:{},monthsOnly:{type:Boolean},placeholder:{},invalid:{type:Boolean},helperText:{},label:{}},{modelValue:{default:new Date},modelModifiers:{}}),emits:P(["dayClicked"],["update:modelValue"]),setup(s,{expose:c,emit:l}){const o=le(s,"modelValue"),i=s,t=h(new Date().getMonth()),e=h(new Date().getFullYear()),n=h(0),a=h(0),u=h([Math.floor(new Date().getFullYear()/10)*10,Math.floor(new Date().getFullYear()/10)*10+10]),d=h(i.monthsOnly?"m":"d"),F=h(i.validRange),k=h(!1),f=h(),C=l,_=()=>{k.value=!0,oe().then(()=>{f.value.focus()})},b=r=>{const y=r?r.relatedTarget:null;y&&(y.classList.contains("dropdown-vrx-picker")||y.classList.contains("vrx-input"))||(k.value=!1)},E=r=>{o.value=new Date(r.year,r.month,r.number,n.value,a.value),o.value.getMonth()!==t.value&&(t.value=o.value.getMonth(),e.value=o.value.getFullYear()),C("dayClicked",o.value),k.value=!1},K=$(()=>i.monthsOnly?O[t.value]+" "+e.value:o.value?ue(o.value,i.dateFormat??"DD-MM-YYYY"):""),z=r=>{t.value+r>11?(t.value=0,e.value+=1):t.value+r<0?(t.value=11,e.value-=1):t.value+=r},U=r=>{e.value+=r},W=r=>{u.value=[u.value[0]+r,u.value[1]+r]},q=r=>{if(t.value=r,i.monthsOnly){k.value=!1;return}d.value="d"},G=r=>{e.value=r,d.value="m"},Q=r=>{a.value=r,o.value&&o.value.setMinutes(r)},X=r=>{n.value=r,o.value&&o.value.setHours(r)},Z=r=>{o.value=r},ee=r=>{F.value=r},te=()=>i.monthsOnly?new Date(e.value,t.value,1):o.value,ne=(r,y)=>{i.monthsOnly&&(t.value=r,e.value=y)},ae=$(()=>{switch(i.type){case"date":return"w-48";case"time":return"w-24";case"datetime":return"w-56"}});return c({setDate:Z,setValidRange:ee,getDate:te,setMonth:ne,openPicker:_,closePicker:b}),(r,y)=>(p(),g("div",{class:R(["relative",ae.value]),onFocusout:b,onKeydown:B(b,["esc"])},[v("div",Fe,[m(I,{"model-value":K.value,icon:"calendar",label:r.label,type:"text",placeholder:r.placeholder??"Select a date",onClick:_,readonly:!0,invalid:r.invalid},null,8,["model-value","label","placeholder","invalid"])],512),r.helperText?(p(),g("div",_e,[v("p",{class:R(["mt-2 text-sm vrxdatepicker-helpertext-style",r.invalid?"vrxdatepicker-helpertext-invalid-style":""])},D(r.helperText),3)])):w("",!0),k.value?(p(),g("div",He,[k.value?re((p(),g("div",{key:0,ref_key:"dropdownRef",ref:f,class:"dropdown-vrx-picker absolute w-64 mt-1 p-4 h-auto text-sm rounded-lg vrxdatepicker-dropdown-bg-style flex flex-col gap-2 shadow-md",tabindex:"-1",onFocusout:b,onKeydown:B(b,["esc"])},[d.value==="d"&&!i.monthsOnly?(p(),H(ke,{key:0,month:t.value,year:e.value,"selected-date":o.value,"valid-range":F.value,"time-enabled":i.type==="datetime",onChangeStage:y[0]||(y[0]=T=>d.value=T),onChangeMonth:z,onDayClicked:E,onChangeMinute:Q,onChangeHour:X},null,8,["month","year","selected-date","valid-range","time-enabled"])):w("",!0),d.value==="m"||i.monthsOnly?(p(),H(be,{key:1,id:"vrx-month-pick",year:e.value,onChangeMonth:q,onChangeYear:U,onChangeStage:y[1]||(y[1]=T=>d.value=T)},null,8,["year"])):w("",!0),d.value==="y"?(p(),H(Ve,{key:2,class:"vrx-datepicker",id:"vrx-year-pick","year-range":u.value,onChangeYear:G,onChangeYearRange:W},null,8,["year-range"])):w("",!0)],32)),[[S(se),[r.$refs.main,!1,!1]]]):w("",!0)])):w("",!0)],34))}}),je=N(Te,[["__scopeId","data-v-3ce59b0a"]]);export{je as V};
