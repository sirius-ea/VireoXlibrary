import{V as w}from"./VrxDatePicker-a1d45015.js";import{_ as O}from"./VrxButton.vue_vue_type_script_setup_true_lang-8efcccf9.js";import{d as j,a as h,o as p,c as u,b as l,e as f,f as v,w as T,g as K,u as N,t as F,F as P,h as z}from"./vue.esm-bundler-9e96686b.js";import{V as S}from"./VrxIcon-2b5c480d.js";import"./styles-61a087f1.js";import"./VrxInput-e0664edf.js";/* empty css                                                                  *//* empty css                                                                  */import{v as L}from"./appendToBody-70f0f50f.js";/* empty css                                                                *//* empty css                                                                  */import"./_plugin-vue_export-helper-c27b6911.js";import"./_commonjsHelpers-725317a4.js";const E={class:"flex justify-center w-fit text-gray-900 dark:text-white relative"},A={class:"flex flex-row items-center gap-2 text-gray-400"},G={class:"vrx-rangePickerBtn h-full flex flex-col items-center justify-center",ref:"dropdownBtn"},I={key:0},W={key:1,class:"mt-2 text-sm"},q={key:0,class:"fixed top-0 left-0 w-full h-full z-20"},H=["onKeydown"],J={class:"flex flex-row justify-between items-center w-full"},Q={class:"rounded-lg font-bold pt-1 pb-1 pr-2 pl-2 select-none"},U={class:"flex flex-col justify-center w-full"},X=["onClick"],Z=j({__name:"VrxDateRangePicker",props:{type:{},validRange:{},dateFormat:{},monthsOnly:{type:Boolean},placeholderFrom:{},placeholderTo:{},width:{},invalid:{type:Boolean},labelStart:{},labelStop:{},dateStart:{},dateStop:{},helperTextStart:{},helperTextStop:{}},setup(x,{expose:k}){const c=h(),y=h(),a=h("Current"),m=h(!1),M=[{value:"Week",action:()=>D("w")},{value:"Month",action:()=>D("m")},{value:"Year",action:()=>D("y")}],V=t=>{const e=["Previous","Current","Next"];switch(e.indexOf(a.value)){case 0:t>0?a.value=e[1]:a.value=e[2];break;case 1:t>0?a.value=e[2]:a.value=e[0];break;case 2:t>0?a.value=e[0]:a.value=e[1];break}},Y=()=>[c.value.getDate(),y.value.getDate()],$=t=>{c.value.setDate(t[0]),y.value.setDate(t[1])},g=t=>{const e=t?t.relatedTarget:null;e&&(e.classList.contains("dropdown-vrx-picker")||e.classList.contains("vrx-rangePickerBtn"))||(m.value=!1)},D=t=>{const e=new Date;let r,o,s,n,i,d;switch(t){case"y":o=1,i=31,r=0,n=11,a.value==="Current"?s=d=e.getFullYear():a.value==="Previous"?s=d=e.getFullYear()-1:s=d=e.getFullYear()+1;break;case"m":s=d=e.getFullYear(),o=1,i=0,a.value==="Current"?(r=e.getMonth(),n=e.getMonth()+1):a.value==="Previous"?(r=e.getMonth()-1,n=e.getMonth()):(r=e.getMonth()+1,n=e.getMonth()+2);break;case"w":s=d=e.getFullYear(),r=n=e.getMonth(),a.value==="Current"?(o=e.getDate()-e.getDay(),i=e.getDate()+(6-e.getDay())):a.value==="Previous"?(o=e.getDate()-e.getDay()-7,i=e.getDate()-e.getDay()-1):(o=e.getDate()-(6-e.getDay())+1,i=e.getDate()+(6-e.getDay())+7);break}c.value.setDate(new Date(s,r,o)),y.value.setDate(new Date(d,n,i))};return k({getDates:Y,setDates:$}),(t,e)=>(p(),u(P,null,[l("div",E,[l("div",A,[f(w,{ref_key:"pickerStart",ref:c,type:a.value,invalid:t.invalid,"valid-range":t.validRange,"date-format":t.dateFormat,"months-only":t.monthsOnly,placeholder:t.placeholderFrom,width:t.width,onClick:e[0]||(e[0]=r=>y.value.closePicker()),label:t.labelStart?t.labelStart:t.labelStop?" ":void 0,date:t.dateStart,"helper-text":t.helperTextStart?t.helperTextStart:t.helperTextStop?" ":void 0},null,8,["type","invalid","valid-range","date-format","months-only","placeholder","width","label","date","helper-text"]),l("div",G,[t.labelStop||t.labelStart?(p(),u("label",I,"   ")):v("",!0),f(S,{onFocusout:g,onKeydown:T(g,["esc"]),icon:"chevron-down",class:"hover:bg-gray-200 focus:outline-none dark:hover:bg-gray-600 cursor-pointer rounded-full",onClick:e[1]||(e[1]=r=>m.value=!m.value)},null,8,["onKeydown"]),t.helperTextStart||t.helperTextStop?(p(),u("label",W,"   ")):v("",!0)],512),f(w,{ref_key:"pickerStop",ref:y,type:a.value,invalid:t.invalid,"valid-range":t.validRange,"date-format":t.dateFormat,"months-only":t.monthsOnly,placeholder:t.placeholderTo,width:t.width,onClick:e[2]||(e[2]=r=>c.value.closePicker()),label:t.labelStop?t.labelStop:t.labelStart?" ":void 0,date:t.dateStop,"helper-text":t.helperTextStop?t.helperTextStop:t.helperTextStart?" ":void 0},null,8,["type","invalid","valid-range","date-format","months-only","placeholder","width","label","date","helper-text"])])]),m.value?(p(),u("div",q,[m.value?K((p(),u("div",{key:0,onFocusout:g,onKeydown:T(g,["esc"]),class:"dropdown-vrx-picker absolute w-48 p-4 h-auto text-sm rounded-lg bg-gray-50 dark:bg-gray-700 flex flex-col gap-2 shadow-md",tabindex:"0"},[l("div",J,[f(S,{icon:"chevron-left",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:e[3]||(e[3]=r=>V(-1))}),l("span",Q,F(a.value),1),f(S,{icon:"chevron-right",class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer",onClick:e[4]||(e[4]=r=>V(1))})]),l("div",U,[(p(),u(P,null,z(M,r=>l("div",{onClick:o=>r.action(),class:"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 pt-1 pb-1 pr-2 pl-2 cursor-pointer justify-center flex select-none hover:text-blue-700 dark:hover:text-white"},F(r.value),9,X)),64))])],40,H)),[[N(L),[t.$refs.dropdownBtn,!1,!0]]]):v("",!0)])):v("",!0)],64))}}),ye={title:"VrxDateRangePicker",component:w,tags:["autodocs"],argTypes:{type:{description:"type of the date picker",control:{type:"select"},options:["date","datetime"],table:{category:"props",type:{summary:"date | datetime-local | time"},defaultValue:{summary:"date"}}},labelStart:{description:"label of the start date picker",control:{type:"text"},table:{category:"props",type:{summary:"string"},defaultValue:{summary:""}}},labelStop:{description:"label of the stop date picker",control:{type:"text"},table:{category:"props",type:{summary:"string"},defaultValue:{summary:""}}},helperTextStart:{description:"helper text of the start date picker",control:{type:"text"},table:{category:"props",type:{summary:"string"},defaultValue:{summary:""}}},helperTextStop:{description:"helper text of the stop date picker",control:{type:"text"},table:{category:"props",type:{summary:"string"},defaultValue:{summary:""}}},validRange:{description:"valid range of the date picker",control:{type:"none"},table:{category:"props",type:{summary:"[Date | undefined, Date | undefined]"},defaultValue:{summary:"undefined"}}},dateStart:{description:"reference to the start date. Must be a ref of type Date",control:{type:"none"},table:{category:"props",type:{summary:"Ref<Date> | undefined"},defaultValue:{summary:"undefined"}}},dateStop:{description:"reference to the stop date. Must be a ref of type Date",control:{type:"none"},table:{category:"props",type:{summary:"Ref<Date> | undefined"},defaultValue:{summary:"undefined"}}},dateFormat:{description:"date format of the date picker",control:{type:"text"},table:{category:"props",type:{summary:"DateFormat"},defaultValue:{summary:"DD-MM-YYYY"}}},monthsOnly:{description:"show only months",control:{type:"boolean"},table:{category:"props",type:{summary:"boolean"},defaultValue:{summary:"false"}}},placeholderFrom:{description:"placeholder of the first date picker",control:{type:"text"},table:{category:"props",type:{summary:"string"},defaultValue:{summary:"Select a date"}}},placeholderTo:{description:"placeholder of the second date picker",control:{type:"text"},table:{category:"props",type:{summary:"string"},defaultValue:{summary:"Select a date"}}},invalid:{description:"invalid state of the date picker",control:{type:"boolean"},table:{category:"props",type:{summary:"boolean"},defaultValue:{summary:"false"}}}}},_={render:x=>({components:{VrxDateRangePicker:Z,VrxButton:O},setup(){return{args:x}},methods:{setDates(k){this.$refs.myRef.setDates(k)},getDates(){alert(this.$refs.myRef.getDates())}},template:`
          <div style="height: 400px" class="flex flex-col">
          <div style="height: 90%">
            <VrxDateRangePicker ref="myRef" :type="args.type" v-bind="args"/>
          </div>
          <div class="bottom-0 flex flex-row gap-2">
            <VrxButton color='default' size="sm" @click="setDates([new Date(), (new Date(new Date().getTime() + (1000 * 60 * 60 * 24 * 4)))])">Set dates</VrxButton>
            <VrxButton color='default' size="sm" @click="getDates()">Get dates</VrxButton>
          </div>
          </div>`}),args:{type:"date",placeholderFrom:"Start date",placeholderTo:"Stop date",dateFormat:void 0,monthsOnly:!1,invalid:!1}},b={..._};var B,C,R;b.parameters={...b.parameters,docs:{...(B=b.parameters)==null?void 0:B.docs,source:{originalSource:`{
  ...Template
}`,...(R=(C=b.parameters)==null?void 0:C.docs)==null?void 0:R.source}}};const me=["Primary"];export{b as Primary,me as __namedExportsOrder,ye as default};
//# sourceMappingURL=VrxDateRangePicker.stories-338bf0cf.js.map
