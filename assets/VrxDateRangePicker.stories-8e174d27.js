import{V as T}from"./VrxDatePicker-7a31d22a.js";import{_ as U}from"./VrxButton.vue_vue_type_script_setup_true_lang-07d0d5c7.js";import{d as q,m as A,a as w,u as P,o as p,c as u,e as m,k as y,l as v,w as R,p as G,q as W,t as $,F as O,s as J}from"./vue.esm-bundler-bf410490.js";/* empty css                                                                */import"./styles-cba61512.js";/* empty css                                                                 *//* empty css                                                                  */import{V as D}from"./VrxIcon-8b276aaa.js";import{v as Q}from"./appendToBody-63fe8568.js";/* empty css                                                                     *//* empty css                                                                    */import"./VrxGrid.vue_vue_type_style_index_0_scoped_3a3a4c45_lang-bae78749.js";/* empty css                                                                  */import"./VrxInput-a360e24e.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./_commonjsHelpers-de833af9.js";const X={class:"flex justify-center w-fit relative"},Z={class:"flex flex-row items-center gap-2"},_={key:0},ee={class:"vrx-rangePickerBtn h-full flex flex-col items-center justify-center",ref:"dropdownBtn"},te={key:0},ae={key:1,class:"mt-2 text-sm"},oe={key:1},le={key:0,class:"fixed top-0 left-0 w-full h-full z-20"},re={class:"flex flex-row justify-between items-center w-full"},ne={class:"rounded-lg vrxdaterangepicker-dropdown-header-style font-bold pt-1 pb-1 pr-2 pl-2 text-content-light dark:text-content-dark select-none"},se={class:"flex flex-col justify-center w-full"},de=["onClick"],ie=q({__name:"VrxDateRangePicker",props:A({type:{},validRange:{},dateFormat:{},monthsOnly:{type:Boolean},placeholderFrom:{},placeholderTo:{},width:{},invalid:{type:Boolean},labelStart:{},labelStop:{},helperTextStart:{},helperTextStop:{},rangeScroller:{type:Boolean},clearable:{type:Boolean}},{dateStart:{},dateStartModifiers:{},dateStop:{},dateStopModifiers:{}}),emits:["update:dateStart","update:dateStop"],setup(b,{expose:M}){const s=w(),d=w(),F=P(b,"dateStart"),Y=P(b,"dateStop"),n=w("Current"),h=w(!1),E=[{value:"Week",action:()=>V("w")},{value:"Month",action:()=>V("m")},{value:"Year",action:()=>V("y")}],B=e=>{const t=["Previous","Current","Next"];switch(t.indexOf(n.value)){case 0:e>0?n.value=t[1]:n.value=t[2];break;case 1:e>0?n.value=t[2]:n.value=t[0];break;case 2:e>0?n.value=t[0]:n.value=t[1];break}},C=(e=!0)=>{if(!s.value||!d.value)return;const t=s.value.getDate().getTime(),l=d.value.getDate().getTime(),i=(r,g)=>new Date(r,g,0).getDate(),a=new Date(l);a.setHours(0,0,0,0);const o=new Date(t);if(o.setHours(0,0,0,0),o.getDate()===a.getDate()&&(a.getMonth()-o.getMonth()===1||a.getMonth()===0&&o.getMonth()===11)){const r=e?a:o,g=e?r.getMonth()+1:r.getMonth()-1,f=new Date(new Date(r).setMonth(g));e?(s.value.setDate(new Date(r)),d.value.setDate(new Date(f))):(s.value.setDate(new Date(f)),d.value.setDate(new Date(r)))}else{const r=i(a.getFullYear(),a.getMonth()),g=o.getFullYear()===a.getFullYear(),f=o.getDate()===1&&a.getDate()===r,L=f&&o.getMonth()===a.getMonth()&&g,H=f&&o.getMonth()===0&&a.getMonth()===11&&g;if(L)o.setMonth(e?o.getMonth()+1:o.getMonth()-1),a.setMonth(e?a.getMonth()+1:a.getMonth()-1),s.value.setDate(new Date(o)),d.value.setDate(new Date(a));else if(H)o.setFullYear(e?o.getFullYear()+1:o.getFullYear()-1),a.setFullYear(e?a.getFullYear()+1:a.getFullYear()-1),s.value.setDate(new Date(o)),d.value.setDate(new Date(a));else{const S=Math.abs(a.getTime()-o.getTime());s.value.setDate(new Date(e?t+S:t-S)),d.value.setDate(new Date(e?l+S:l-S))}}},I=()=>[s.value?s.value.getDate():null,d.value?d.value.getDate():null],K=e=>{s.value.setDate(e[0]),d.value.setDate(e[1])},k=e=>{const t=e?e.relatedTarget:null;t&&(t.classList.contains("dropdown-vrx-picker")||t.classList.contains("vrx-rangePickerBtn"))||(h.value=!1)},V=e=>{const t=new Date;let l,i,a,o,c,r;switch(e){case"y":i=1,c=31,l=0,o=11,n.value==="Current"?a=r=t.getFullYear():n.value==="Previous"?a=r=t.getFullYear()-1:a=r=t.getFullYear()+1;break;case"m":a=r=t.getFullYear(),i=1,c=0,n.value==="Current"?(l=t.getMonth(),o=t.getMonth()+1):n.value==="Previous"?(l=t.getMonth()-1,o=t.getMonth()):(l=t.getMonth()+1,o=t.getMonth()+2);break;case"w":a=r=t.getFullYear(),l=o=t.getMonth(),n.value==="Current"?(i=t.getDate()-t.getDay(),c=t.getDate()+(6-t.getDay())):n.value==="Previous"?(i=t.getDate()-t.getDay()-7,c=t.getDate()-t.getDay()-1):(i=t.getDate()-(6-t.getDay())+1,c=t.getDate()+(6-t.getDay())+7);break}s.value.setDate(new Date(a,l,i)),d.value.setDate(new Date(r,o,c))};return M({getDates:I,setDates:K}),(e,t)=>(p(),u(O,null,[m("div",X,[m("div",Z,[e.rangeScroller?(p(),u("div",_,[y(D,{icon:"chevron-left",class:"vrxdaterangepicker-dropdown-btn-style focus:outline-none cursor-pointer rounded-full",onClick:t[0]||(t[0]=l=>C(!1))})])):v("",!0),y(T,{ref_key:"pickerStart",ref:s,type:e.type,invalid:e.invalid,"valid-range":e.validRange,"date-format":e.dateFormat,"months-only":e.monthsOnly,placeholder:e.placeholderFrom,width:e.width,onClick:t[1]||(t[1]=l=>d.value.closePicker()),label:e.labelStart?e.labelStart:e.labelStop?" ":void 0,modelValue:F.value,"onUpdate:modelValue":t[2]||(t[2]=l=>F.value=l),clearable:e.clearable,"helper-text":e.helperTextStart?e.helperTextStart:e.helperTextStop?" ":void 0},null,8,["type","invalid","valid-range","date-format","months-only","placeholder","width","label","modelValue","clearable","helper-text"]),m("div",ee,[e.labelStop||e.labelStart?(p(),u("label",te,"   ")):v("",!0),y(D,{onFocusout:k,onKeydown:R(k,["esc"]),icon:"chevron-down",class:"vrxdaterangepicker-dropdown-btn-style focus:outline-none cursor-pointer rounded-full",onClick:t[3]||(t[3]=l=>h.value=!h.value)}),e.helperTextStart||e.helperTextStop?(p(),u("label",ae,"   ")):v("",!0)],512),y(T,{ref_key:"pickerStop",ref:d,type:e.type,invalid:e.invalid,"valid-range":e.validRange,"date-format":e.dateFormat,"months-only":e.monthsOnly,placeholder:e.placeholderTo,width:e.width,onClick:t[4]||(t[4]=l=>s.value.closePicker()),label:e.labelStop?e.labelStop:e.labelStart?" ":void 0,modelValue:Y.value,"onUpdate:modelValue":t[5]||(t[5]=l=>Y.value=l),clearable:e.clearable,"helper-text":e.helperTextStop?e.helperTextStop:e.helperTextStart?" ":void 0},null,8,["type","invalid","valid-range","date-format","months-only","placeholder","width","label","modelValue","clearable","helper-text"]),e.rangeScroller?(p(),u("div",oe,[y(D,{icon:"chevron-right",class:"vrxdaterangepicker-dropdown-btn-style focus:outline-none cursor-pointer rounded-full",onClick:C})])):v("",!0)])]),h.value?(p(),u("div",le,[h.value?G((p(),u("div",{key:0,onFocusout:k,onKeydown:R(k,["esc"]),class:"dropdown-vrx-picker absolute w-48 p-4 h-auto text-sm rounded-lg bg-gray-50 dark:bg-gray-700 flex flex-col gap-2 shadow-md",tabindex:"0"},[m("div",re,[y(D,{icon:"chevron-left",class:"rounded-lg vrxdaterangepicker-dropdown-text-style cursor-pointer",onClick:t[6]||(t[6]=l=>B(-1))}),m("span",ne,$(n.value),1),y(D,{icon:"chevron-right",class:"rounded-lg vrxdaterangepicker-dropdown-text-style text-content-light dark:text-content-dark cursor-pointer",onClick:t[7]||(t[7]=l=>B(1))})]),m("div",se,[(p(),u(O,null,J(E,l=>m("div",{onClick:i=>l.action(),class:"rounded-lg vrxdaterangepicker-dropdown-text-style pt-1 pb-1 pr-2 pl-2 cursor-pointer justify-center flex select-none"},$(l.value),9,de)),64))])],32)),[[W(Q),[e.$refs.dropdownBtn,!1,!0]]]):v("",!0)])):v("",!0)],64))}}),Te={title:"VrxDateRangePicker",component:T,tags:["autodocs"],argTypes:{type:{description:"type of the date picker",control:{type:"select"},options:["date","datetime"],table:{category:"props",type:{summary:"date | datetime-local | time"},defaultValue:{summary:"date"}}},labelStart:{description:"label of the start date picker",control:{type:"text"},table:{category:"props",type:{summary:"string"},defaultValue:{summary:""}}},labelStop:{description:"label of the stop date picker",control:{type:"text"},table:{category:"props",type:{summary:"string"},defaultValue:{summary:""}}},helperTextStart:{description:"helper text of the start date picker",control:{type:"text"},table:{category:"props",type:{summary:"string"},defaultValue:{summary:""}}},helperTextStop:{description:"helper text of the stop date picker",control:{type:"text"},table:{category:"props",type:{summary:"string"},defaultValue:{summary:""}}},validRange:{description:"valid range of the date picker",control:{type:"none"},table:{category:"props",type:{summary:"[Date | undefined, Date | undefined]"},defaultValue:{summary:"undefined"}}},dateStart:{description:'reference to the start date. You can use this to set the date from outside. use v-model:date-start="myDate" to bind it to a date variable',control:{type:"none"},table:{category:"v-model",type:{summary:"Date | undefined"},defaultValue:{summary:"undefined"}}},dateStop:{description:'reference to the stop date. You can use this to set the date from outside. use v-model:date-stop="myDate" to bind it to a date variable',control:{type:"none"},table:{category:"v-model",type:{summary:"Date | undefined"},defaultValue:{summary:"undefined"}}},dateFormat:{description:"date format of the date picker",control:{type:"text"},table:{category:"props",type:{summary:"DateFormat"},defaultValue:{summary:"DD-MM-YYYY"}}},monthsOnly:{description:"show only months",control:{type:"boolean"},table:{category:"props",type:{summary:"boolean"},defaultValue:{summary:"false"}}},placeholderFrom:{description:"placeholder of the first date picker",control:{type:"text"},table:{category:"props",type:{summary:"string"},defaultValue:{summary:"Select a date"}}},placeholderTo:{description:"placeholder of the second date picker",control:{type:"text"},table:{category:"props",type:{summary:"string"},defaultValue:{summary:"Select a date"}}},invalid:{description:"invalid state of the date picker",control:{type:"boolean"},table:{category:"props",type:{summary:"boolean"},defaultValue:{summary:"false"}}},clearable:{description:"Clear the input value",control:{type:"boolean"},table:{category:"props",type:{summary:"boolean"},defaultValue:{summary:"false"}}},rangeScroller:{description:"Enable back and forward date range scroll",control:{type:"boolean"},table:{category:"props",type:{summary:"boolean"},defaultValue:{summary:"false"}}}}},pe={render:b=>({components:{VrxDateRangePicker:ie,VrxButton:U},setup(){return{args:b}},data:()=>({dateStart:new Date(1704120916e3),dateStop:new Date}),methods:{setDates(M){this.$refs.myRef.setDates(M)},getDates(){alert(this.$refs.myRef.getDates())}},template:`
          <div style="height: 400px" class="flex flex-col">
          <div style="height: 90%">
            <VrxDateRangePicker ref="myRef" :type="args.type" v-bind="args" v-model:data-start="this.dateStart" v-model:data-stop="this.dateStop"/>
          </div>
          <div class="bottom-0 flex flex-row gap-2">
            <VrxButton color='default' size="sm" @click="setDates([new Date(), (new Date(new Date().getTime() + (1000 * 60 * 60 * 24 * 4)))])">Set dates</VrxButton>
            <VrxButton color='default' size="sm" @click="getDates()">Get dates</VrxButton>
          </div>
          </div>`}),args:{type:"date",placeholderFrom:"Start date",placeholderTo:"Stop date",rangeScroller:!0,dateFormat:void 0,monthsOnly:!1,invalid:!1}},x={...pe};var j,N,z;x.parameters={...x.parameters,docs:{...(j=x.parameters)==null?void 0:j.docs,source:{originalSource:`{
  ...Template
}`,...(z=(N=x.parameters)==null?void 0:N.docs)==null?void 0:z.source}}};const Fe=["Primary"];export{x as Primary,Fe as __namedExportsOrder,Te as default};
