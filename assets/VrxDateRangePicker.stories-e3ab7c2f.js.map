{"version":3,"file":"VrxDateRangePicker.stories-e3ab7c2f.js","sources":["../../src/components/VrxDateRangePicker/VrxDateRangePicker.vue"],"sourcesContent":["<template>\n  <div class=\"flex justify-center w-fit text-gray-900 dark:text-white\">\n    <div class=\"flex flex-row items-center gap-2 text-gray-400\">\n      <VrxDatePicker\n          ref=\"picker1\"\n          :type=\"type\"\n          :invalid=\"invalid\"\n          :valid-range=\"validRange\"\n          :date-format=\"dateFormat\"\n          :months-only=\"monthsOnly\"\n          :placeholder=\"placeholderFrom\"\n          :width=\"width\"\n          @click=\"picker2.closePicker()\"\n      />\n      <VrxIcon\n          icon=\"chevron-down\"\n          class=\"hover:bg-gray-200 dark:hover:bg-gray-600 cursor-pointer rounded-full\"\n          @click=\"showDropdown = !showDropdown\"\n      />\n      <VrxDatePicker\n          ref=\"picker2\"\n          :type=\"type\"\n          :invalid=\"invalid\"\n          :valid-range=\"validRange\"\n          :date-format=\"dateFormat\"\n          :months-only=\"monthsOnly\"\n          :placeholder=\"placeholderTo\"\n          :width=\"width\"\n          @click=\"picker1.closePicker()\"\n      />\n    </div>\n    <div\n        v-if=\"showDropdown\"\n        class=\"dropdown-vrx-picker absolute w-48 mt-12 p-4 h-auto text-sm rounded-lg bg-gray-50 dark:bg-gray-700 flex flex-col gap-2 shadow-md\"\n        tabindex=\"-1\"\n        @focusout=\"showDropdown = false\"\n    >\n      <div class=\"flex flex-row justify-between items-center w-full\">\n        <VrxIcon icon=\"chevron-left\" class=\"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer\" @click=\"changeType(-1)\"/>\n        <span class=\"rounded-lg font-bold pt-1 pb-1 pr-2 pl-2 select-none\">{{ type }}</span>\n        <VrxIcon icon=\"chevron-right\" class=\"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 cursor-pointer\" @click=\"changeType(+1)\"/>\n      </div>\n      <div class=\"flex flex-col justify-center w-full\">\n        <div\n            v-for=\"button in currentButtons\"\n            @click=\"button.action()\"\n            class=\"rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 pt-1 pb-1 pr-2 pl-2 cursor-pointer justify-center flex select-none hover:text-blue-700 dark:hover:text-white\">\n          {{ button.value }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\n\nimport VrxDatePicker from \"@/components/VrxDatePicker/VrxDatePicker.vue\";\nimport { ref } from \"vue\";\nimport VrxIcon from \"@/components/VrxIcon/VrxIcon.vue\";\nimport {vClickOutside} from \"@/utils.ts\";\nimport {monthsLib} from \"@/components/VrxDatePicker/DatePickerLibrary.ts\";\n\nconst picker1 = ref();\nconst picker2 = ref();\n\nconst type = ref('Current');\n\nconst showDropdown = ref(false);\n\nconst props = defineProps<{\n  type: 'date' | 'time' | 'datetime',\n  validRange?: [Date | undefined, Date | undefined];\n  dateFormat?: string;\n  monthsOnly?: boolean;\n  placeholderFrom?: string;\n  placeholderTo?: string;\n  width?: number;\n  invalid?: boolean;\n}>();\n\nconst currentButtons = [\n  { value: \"Week\", action: () => setCurrentPeriod('w')},\n  { value: \"Month\", action: () => setCurrentPeriod('m')},\n  { value: \"Year\", action: () => setCurrentPeriod('y')},\n]\n\nconst changeType = (value: number) => {\n  const values = ['Previous', 'Current', 'Next'];\n  const index = values.indexOf(type.value);\n\n  switch (index) {\n    case 0:\n      value > 0 ? type.value = values[1] : type.value = values[2];\n      break;\n    case 1:\n      value > 0 ? type.value = values[2] : type.value = values[0];\n      break;\n    case 2:\n      value > 0 ? type.value = values[0] : type.value = values[1];\n      break;\n  }\n}\n\n\nconst getDates = () => {\n  return [picker1.value.getDate(), picker2.value.getDate()];\n}\n\nconst setDates = (dates: [Date | undefined, Date | undefined]) => {\n  picker1.value.setDate(dates[0]);\n  picker2.value.setDate(dates[1]);\n}\n\nconst setCurrentPeriod = (period: 'y' | 'm' | 'w') => {\n  const today = new Date();\n  switch (period) {\n    case 'y':\n      if(type.value === 'Current'){\n        picker1.value.setDate(new Date(today.getFullYear(), 0, 1));\n        picker2.value.setDate(new Date(today.getFullYear(), 11, 31));\n      }\n      else if(type.value === 'Previous'){\n        picker1.value.setDate(new Date(today.getFullYear() - 1, 0, 1));\n        picker2.value.setDate(new Date(today.getFullYear() - 1, 11, 31));\n      }\n      else if(type.value === 'Next'){\n        picker1.value.setDate(new Date(today.getFullYear() + 1, 0, 1));\n        picker2.value.setDate(new Date(today.getFullYear() + 1, 11, 31));\n      }\n      break;\n    case 'm':\n      if(type.value === 'Current'){\n        picker1.value.setDate(new Date(today.getFullYear(), today.getMonth(), 1));\n        picker2.value.setDate(new Date(today.getFullYear(), today.getMonth() + 1, 0));\n      }\n      else if(type.value === 'Previous'){\n        picker1.value.setDate(new Date(today.getFullYear(), today.getMonth() - 1, 1));\n        picker2.value.setDate(new Date(today.getFullYear(), today.getMonth(), 0));\n      }\n      else if(type.value === 'Next'){\n        picker1.value.setDate(new Date(today.getFullYear(), today.getMonth() + 1, 1));\n        picker2.value.setDate(new Date(today.getFullYear(), today.getMonth() + 2, 0));\n      }\n      break;\n    case 'w':\n      if(type.value === 'Current'){\n        picker1.value.setDate(new Date(today.getFullYear(), today.getMonth(), today.getDate() - today.getDay()));\n        picker2.value.setDate(new Date(today.getFullYear(), today.getMonth(), today.getDate() + (6 - today.getDay())));\n      }\n      else if(type.value === 'Previous'){\n        picker1.value.setDate(new Date(today.getFullYear(), today.getMonth(), today.getDate() - today.getDay() - 7));\n        picker2.value.setDate(new Date(today.getFullYear(), today.getMonth(), today.getDate() - today.getDay() - 1));\n      }\n      else if(type.value === 'Next'){\n        picker1.value.setDate(new Date(today.getFullYear(), today.getMonth(), today.getDate() + (6 - today.getDay()) + 1));\n        picker2.value.setDate(new Date(today.getFullYear(), today.getMonth(), today.getDate() + (6 - today.getDay()) + 7));\n      }\n      break;\n  }\n}\n\ndefineExpose({ getDates, setDates });\n\n\n</script>\n\n<style scoped>\n\n</style>"],"names":["picker1","ref","picker2","type","showDropdown","currentButtons","setCurrentPeriod","changeType","value","values","getDates","setDates","dates","period","today","__expose"],"mappings":"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"}