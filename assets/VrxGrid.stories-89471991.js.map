{"version":3,"file":"VrxGrid.stories-89471991.js","sources":["../../src/components/VrxGrid/Models/Header.ts","../../src/components/VrxGrid/VrxGridHeaderCell.vue","../../src/components/VrxGrid/VrxGridHeader.vue","../../src/components/VrxGrid/Models/Row.ts","../../src/components/VrxGrid/gridStyles.ts","../../src/components/VrxGrid/VrxGridCell.vue","../../src/components/VrxGrid/VrxGridRow.vue","../../src/components/VrxGrid/VrxGridBody.vue","../../src/components/VrxGrid/Models/Grid.ts","../../src/components/VrxGrid/VrxGrid.vue"],"sourcesContent":["import {GridConfiguration, GridFilter, GridHeader, GridRow} from \"@/components/VrxGrid/GridConfiguration.ts\";\nimport {SelectItemInterface} from \"@/components/VrxSelect/SelectItemInterface.ts\";\nimport {IconLibraryType} from \"@/components/VrxIcon/IconLibrary.ts\";\n\nexport class Header {\n    private readonly _id: string;\n    private readonly _text: string;\n    private _type: \"text\" | \"component\" | \"static\" | \"boolean\" | undefined;\n    private readonly _align?: \"left\" | \"center\" | \"right\";\n    private readonly _sortable?: boolean;\n    private readonly _sortFunction?: ((a : GridRow, b : GridRow) => number) | undefined;\n    private _sortDirection?: \"asc\" | \"desc\" | undefined;\n    private readonly _width?: number | undefined;\n    private readonly _filterType?: \"text\" | \"select\" | \"date\" | undefined;\n    private readonly _filterPlaceholder?: string | undefined;\n    private _customFilter?: Function | undefined;\n    private _headerConfig?: GridHeader;\n    private readonly _icon?: IconLibraryType | undefined;\n    private _colspan?: number | undefined;\n\n    constructor (header: GridHeader) {\n        this._id = header.id;\n        this._text = header.text;\n        this._type = header.type;\n        this._align = header.align;\n        this._sortable = header.sortable;\n        this._sortFunction = header.sortFunction;\n        this._sortDirection = header.sortDirection;\n        this._width = header.width;\n        this._filterType = header.filterType;\n        this._filterPlaceholder = header.filterPlaceholder;\n        this._customFilter = header.customFilter;\n        this._headerConfig = header;\n        this._icon = header.icon;\n        this._colspan = header.colspan;\n    }\n\n    public get id(): string {\n        return this._id;\n    }\n\n    public get text(): string {\n        return this._text;\n    }\n\n    public get filterType(): \"text\" | \"select\" | \"date\" | null {\n        return this._filterType ?? null;\n    }\n\n    public get filterPlaceholder(): string | null {\n        return this._filterPlaceholder ?? null;\n    }\n\n    public get sortable(): boolean {\n        return this._sortable ?? false;\n    }\n\n    public get sortDirection(): \"asc\" | \"desc\" | null {\n        return this._sortDirection ?? null;\n    }\n\n    public get icon(): IconLibraryType | null {\n        return this._icon ?? null;\n    }\n\n    public get colspan(): number | undefined {\n        return this._colspan ?? undefined;\n    }\n\n    public get textAlignmentClass(): string | null {\n        switch (this._align) {\n            case \"left\":\n                return \"text-left\";\n            case \"center\":\n                return \"text-center\";\n            case \"right\":\n                return \"text-right\";\n            default:\n                return null;\n        }\n    }\n\n    public get width(): number | undefined {\n        return this._width;\n    }\n\n    public sortClicked (gridConfig : GridConfiguration, gridData: GridRow[]): void {\n        if(!this._sortable) return;\n        this._sortDirection = this._sortDirection === \"asc\" ? \"desc\" : \"asc\";\n        this._headerConfig!.sortDirection = this._sortDirection;\n\n        this._resetSortDirection(gridConfig, [this._id]);\n        this._sortFunction ? this._useCustomSorting(gridData) : this._useDefaultSorting(gridData);\n    }\n\n    private _useDefaultSorting (gridData: GridRow[]) : void {\n        gridData.sort((a : GridRow, b : GridRow) => {\n            if(a.data[this._id] < b.data[this._id]) return this._sortDirection === 'asc' ? 1 :  -1;\n            if(a.data[this._id] > b.data[this._id]) return this._sortDirection === 'asc' ? -1 :  1;\n            return 0;\n        });\n    }\n\n    private _useCustomSorting (gridData: GridRow[]) : void {\n        if(this._sortFunction && gridData){\n            gridData.sort(this._sortFunction);\n        }\n    }\n\n    private _resetSortDirection (gridConfig : GridConfiguration, toExclude : string[] = []) : void {\n        gridConfig.header.forEach((h : GridHeader) => {\n            if(!toExclude.includes(h.id)){\n                h.sortDirection = undefined;\n            }\n        })\n    }\n\n    public  getSelectableItems(gridData: GridRow[]) : SelectItemInterface[] {\n        const data : SelectItemInterface[] = [];\n        if(!gridData) return data;\n        gridData.forEach((d : GridRow) => {\n            if(!data.find((v : any) => v.value === d.data[this._id]) && d.data[this._id] !== null && d.data[this._id] !== undefined){\n                if(typeof d.data[this._id] === 'boolean'){\n                    data.push({value: d.data[this._id], label: d.data[this._id] ? 'true' : 'false'})\n                } else {\n                    data.push({value: d.data[this._id], label: d.data[this._id]});\n                }\n            }\n        });\n        return data.sort((a : SelectItemInterface, b : SelectItemInterface) => a.label.localeCompare(b.label));\n    }\n\n    public filterByValue (filters : GridFilter [], value : string){\n        const exist = filters.find((f) => f.cellId === this._id);\n        if(exist && value === '') filters.splice(filters.indexOf(exist), 1);\n        exist ? exist.value = value : filters.push({ cellId: this._id , value });\n    }\n}","<template>\n    <th\n        scope=\"col\"\n        class=\"px-3 py-3 vrx-th header-th\"\n        :class=\"headerModel.textAlignmentClass\"\n        :colspan=\"headerModel.colspan\"\n    >\n      <div class=\"vrx-header-cell\" :class=\"headerModel.filterType ? 'mb-2' : null\" @click=\"headerModel.sortClicked(props.gridConfig, props.gridData)\">\n        <span class=\"flex flex-row gap-1.5 items-center\">\n          <VrxIcon v-if=\"headerModel.icon\" :icon=\"headerModel.icon\" size=\"4\"/>\n          <span class=\"vrx-grid-label\">{{ headerModel.text }}</span>\n        </span>\n        <VrxIcon\n            v-if=\"headerModel.sortable\"\n            :icon=\"headerConfig.sortDirection === 'asc' ? 'chevron-up' : headerConfig.sortDirection === 'desc' ? 'chevron-down' : 'empty'\"\n            size=\"3\"\n        />\n      </div>\n      <VrxInput\n          v-if=\"headerModel.filterType === 'text'\"\n          :model-value=\"inputValue\"\n          :height=\"30\"\n          class=\"header-input\"\n          :placeholder=\"headerModel.filterPlaceholder ?? '...'\"\n          type=\"text\"\n          @input=\"(val : any) => headerModel.filterByValue(filters as GridFilter[], val.target.value)\"\n      />\n      <VrxSelect\n          v-if=\"headerModel.filterType === 'select'\"\n          :list-data=\"headerModel.getSelectableItems(gridData)\"\n          :model-value=\"selectValue\"\n          :placeholder=\"headerModel.filterPlaceholder ?? '...'\"\n          class=\"header-input\"\n          :height=\"30\"\n          :on-select=\"(val : any) => headerModel.filterByValue(filters as GridFilter[], val.value)\"\n          :on-clear=\"() => headerModel.filterByValue(filters as GridFilter[], '')\"\n          :searchable=\"true\"\n      />\n    </th>\n</template>\n\n\n<script setup lang=\"ts\">\n  import VrxSelect from \"@/components/VrxSelect/VrxSelect.vue\";\n  import VrxInput from \"@/components/VrxInput/VrxInput.vue\";\n  import VrxIcon from \"@/components/VrxIcon/VrxIcon.vue\";\n  import {Header} from \"@/components/VrxGrid/Models/Header.ts\";\n  import {GridConfiguration, GridFilter, GridHeader, GridRow} from \"@/components/VrxGrid/GridConfiguration.ts\";\n  import {inject, ref} from \"vue\";\n  import {ReactiveVariable} from \"vue/macros\";\n\n\n  const props = defineProps<{\n    gridConfig: GridConfiguration;\n    headerConfig: GridHeader;\n    gridData: ReactiveVariable<GridRow[]>\n  }>();\n\n  const filters : any = inject('filters');\n  let inputValue = ref('');\n  let selectValue = ref([]);\n\n  const headerModel = new Header(props.headerConfig);\n\n</script>\n\n<style scoped>\n  .vrx-header-cell{\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    flex-direction: row;\n    gap: 0.2rem;\n    user-select: none;\n  }\n  .header-input {\n    font-weight: normal;\n    width: 100%;\n  }\n  .px-3{\n    padding-left: 0.75rem;\n    padding-right: 0.75rem;\n  }\n  .vrx-th{\n    vertical-align: top;\n  }\n  .vrx-grid-label{\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n  .header-th{\n    width: v-bind(headerModel.width + 'px');\n    max-width: v-bind(headerModel.width + 'px') ;\n  }\n</style>\n","<template>\n  <thead data-testid=\"vrx-grid-header\" class=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-white vrx-table\">\n    <tr>\n      <VrxGridHeaderCell\n          v-for=\"config in spanReformer\"\n          :grid-config=\"gridConfig\"\n          :header-config=\"config\"\n          :grid-data=\"gridData\"/>\n    </tr>\n  </thead>\n</template>\n\n<script setup lang=\"ts\">\nimport {GridConfiguration, GridRow} from \"@/components/VrxGrid/GridConfiguration.ts\";\n  import VrxGridHeaderCell from \"@/components/VrxGrid/VrxGridHeaderCell.vue\";\n  import {ReactiveVariable} from \"vue/macros\";\nimport {computed} from \"vue\";\n\n  const props = defineProps<{\n    gridConfig: GridConfiguration;\n    gridData: ReactiveVariable<GridRow[]>\n  }>()\n\n  const spanReformer = computed(() => {\n    let filteredArray = [];\n    let index = 0;\n\n    while (index < props.gridConfig.header.length) {\n      const currentItem = props.gridConfig.header[index];\n      const colspan = currentItem.colspan || 1;\n\n      filteredArray.push(currentItem);\n\n      index += colspan;\n    }\n\n    return filteredArray;\n  })\n\n</script>\n\n<style scoped>\n  .vrx-table{\n    position: sticky;\n    top: 0;\n    z-index: 1;\n  }\n</style>","import {GridHeader, GridRow} from \"@/components/VrxGrid/GridConfiguration.ts\";\nimport {computed} from \"vue\";\n\nexport class Row {\n    private readonly _id: string;\n    private readonly _textColor: string | undefined;\n    private readonly _backgroundColor: string | undefined;\n    private readonly _data: any;\n    private readonly _filters: {cellId: string, value: string}[];\n    private readonly _selectedRows: Row[];\n    private readonly _selectable: boolean;\n    private readonly _multiselect: boolean;\n    private readonly _headerConfig: GridHeader[];\n    private readonly  _componentProps: any;\n\n    constructor(row : GridRow, filters: any, selectedRows: any, selectable: boolean, multiselect: boolean, headerConfig: GridHeader[]) {\n        this._id = row.id;\n        this._textColor = row.textColor;\n        this._backgroundColor = row.backgroundColor;\n        this._data = row.data;\n        this._filters = filters;\n        this._selectedRows = selectedRows;\n        this._selectable = selectable;\n        this._multiselect = multiselect;\n        this._headerConfig = headerConfig;\n        this._componentProps = row.componentProps;\n    }\n\n    /**\n     * Returns the content of a cell given the header ID\n     * @param id\n     */\n    public getCellContent (id: string) : any {\n        return this._data[id];\n    }\n\n    /**\n     * Returns the text color of the row\n     */\n    public get textColor () : string | undefined {\n        return this._textColor;\n    }\n\n    /**\n     * Returns the component props of the row\n     */\n    public get componentProps () : any {\n        return this._componentProps;\n    }\n\n    /**\n     * Returns the background color of the row\n     */\n    public get backgroundColor () : string | undefined {\n        return this._backgroundColor;\n    }\n\n    /**\n     * Returns the ID of the row\n     */\n    public get id () : string {\n        return this._id;\n    }\n\n    /**\n     * Returns the data of the row\n     */\n    public get data () : any {\n        return this._data;\n    }\n\n    /**\n     * Returns if the row is selectable\n     */\n    public get selectable () : boolean {\n        return this._selectable;\n    }\n\n    /**\n     * Action to be executed when the row is clicked\n     */\n    public rowClicked () : void {\n        const included = this._selectedRows.find(rowIn => rowIn.id === this._id);\n        if(!this._multiselect){\n            if(included){\n                const index = this._selectedRows.indexOf(included);\n                this._selectedRows.splice(index, 1);\n                return;\n            }\n            this._selectedRows.splice(0, this._selectedRows.length);\n            this._selectedRows.push(this);\n            return;\n        }\n\n        if(!included)\n            this._selectedRows.push(this);\n        else {\n            const index = this._selectedRows.indexOf(included);\n            this._selectedRows.splice(index, 1);\n        }\n    }\n\n    /**\n     * Returns if the row is filtered and must be hidden\n     */\n    public isFiltered (){\n        let isFiltered : boolean = false;\n        this._filters.forEach(filter => {\n            const customFilter = this._headerConfig.find(cell => cell.id === filter.cellId)?.customFilter;\n            !isFiltered ? isFiltered = customFilter ? customFilter(this, filter) : this._defaultFilter(filter) : null;\n        });\n        return isFiltered;\n    }\n\n    /**\n     * Returns if the row is in the selected ones\n     */\n    public isSelected () : boolean {\n        const included = this._selectedRows.find(rowIn => rowIn.id === this._id);\n        return !!included;\n    }\n\n    /**\n     * Default filter function\n     * @param filter\n     * @private\n     */\n    private _defaultFilter(filter : {cellId: string, value: any}) : boolean {\n        if(typeof filter.value === \"boolean\"){\n            const value = this._data[filter.cellId];\n            return value !== filter.value;\n        }\n\n        const value = this._data[filter.cellId].toString().toLowerCase();\n        return (!value.includes(filter.value.toLowerCase()));\n    }\n}","export const textStyle = {\n    'left': 'text-left',\n    'right': 'text-right',\n    'center': 'text-center',\n}","<template>\n  <td\n      class=\"px-3 font-medium whitespace-nowrap vrx-cell\"\n      :class=\"getCellStyle()\"\n      v-click-outside=\"clickOutside\"\n      @dblclick=\"cellDbClicked\"\n      @click=\"cellClicked\"\n      @keydown=\"keyboardListener($event)\"\n  >\n    <!-- TEXT -->\n    <span class=\"vrx-grid-cell-content\" v-if=\"!cell.type || cell.type === 'text'\">\n      <input ref=\"input\" v-if=\"cell.editable && editMode && cell.editType ==='text'\" v-model=\"row.data[cell.id]\" class=\"edit-input\"/>\n      <select v-else-if=\"cell.editable && cell.editType ==='select'\" v-model=\"row.data[cell.id]\" class=\"edit-input\" @focus=\"editMode = true\">\n        <option v-for=\"option in props.cell.editOptions\" :value=\"option.value\">{{ option.text }}</option>\n      </select>\n      <span v-else>{{ row.getCellContent(cell.id) }}</span>\n    </span>\n\n    <!-- BOOLEAN -->\n    <span v-else-if=\"cell.type === 'boolean'\">\n      <input :disabled=\"!cell.editable\" type=\"checkbox\" v-model=\"row.data[cell.id]\" class=\"edit-input\" />\n    </span>\n\n    <!-- COMPONENT -->\n    <component v-else-if=\"cell.type === 'component'\" :is=\"row.data[cell.id]\" v-bind=\"row.componentProps\"/>\n\n    <!-- CUSTOM -->\n    <div v-html=\"cell.staticHTML\" v-else-if=\"cell.type === 'static'\"></div>\n  </td>\n</template>\n\n<script setup lang=\"ts\">\n\n  import {textStyle} from \"@/components/VrxGrid/gridStyles.ts\";\n  import {Row} from \"@/components/VrxGrid/Models/Row.ts\";\n  import {ref} from \"vue\";\n  import {GridHeader} from \"@/components/VrxGrid/GridConfiguration.ts\";\n  import colors from \"tailwindcss/colors\";\n  import VrxIcon from \"@/components/VrxIcon/VrxIcon.vue\";\n\n\n  const props = defineProps<{\n    row: Row;\n    cell: GridHeader;\n  }>();\n\n  const editMode = ref(false);\n  const input = ref();\n\n  const getCellStyle = () => {\n    let style = props.cell.align ? textStyle[props.cell.align as keyof typeof textStyle] : '';\n    style += props.cell.editable && editMode.value ? ' editing' : '';\n    style += props.cell.type === 'static' ? ' py-2' : ' py-4';\n    props.cell.type === 'boolean' ? style += ' flex justify-center' : '';\n    return style;\n  }\n\n  const emits = defineEmits(['cellClicked', 'cellDoubleClicked']);\n\n  const cellClicked = () => {\n    emits('cellClicked', {\n      cellId: props.cell.id,\n      rowId: props.row.id,\n      value: props.cell.type === 'static' ? props.cell.staticHTML : props.row.data[props.cell.id]\n    });\n  }\n\n  const cellDbClicked = () => {\n    emits('cellDoubleClicked', {\n      cellId: props.cell.id,\n      rowId: props.row.id,\n      value: props.cell.type === 'static' ? props.cell.staticHTML : props.row.data[props.cell.id]\n    });\n\n    props.cell.type !== 'boolean' ? editMode.value = true : null;\n    setTimeout(() => {\n      props.cell.editable  && props.cell.editType === 'text' ? input.value.focus() : null;\n    }, 100);\n  }\n\n  const vClickOutside = {\n    mounted(el : any, binding : any) {\n      el.clickOutsideEvent = function(event : any) {\n        if (!(el === event.target || el.contains(event.target))) {\n          binding.value(event, el);\n        }\n      };\n      document.body.addEventListener('click', el.clickOutsideEvent);\n    },\n    unmounted(el : any) {\n      document.body.removeEventListener('click', el.clickOutsideEvent);\n    }\n  }\n\n  const clickOutside = () => {\n    editMode.value = false;\n  }\n\n  const keyboardListener = (e: KeyboardEvent) => {\n    if(e.key === 'Enter'){\n      e.preventDefault();\n      editMode.value = false;\n    }\n  }\n\n</script>\n\n<style scoped>\n  .edit-input{\n    outline: none;\n    border: none;\n    background-color: transparent;\n    width: 100%;\n  }\n\n  .vrx-cell {\n    width: v-bind(cell.width+ 'px');\n    max-width: v-bind(cell.width+ 'px');\n  }\n\n  .editing{\n    -webkit-box-shadow:inset 0px 0px 0px 2px v-bind(colors.blue[500]);\n    -moz-box-shadow:inset 0px 0px 0px 2px v-bind(colors.blue[500]);\n    box-shadow:inset 0px 0px 0px 2px v-bind(colors.blue[500]);\n  }\n\n</style>","\n<template>\n  <tr\n      :data-testid=\"'vrx-grid-row-'+ rowModel.id\"\n      class=\"bg-white border-b dark:bg-gray-800 dark:border-gray-700 vrx-row\"\n      :class=\"rowStyle\"\n      v-if=\"!isFiltered\"\n      @click=\"rowClicked\"\n  >\n    <VrxGridCell\n        v-for=\"cell in headerConfig\"\n        :row=\"rowModel\"\n        :cell=\"cell\"\n        @cell-clicked=\"cellClicked\"\n        @cell-double-clicked=\"cellDoubleClicked\"\n    />\n  </tr>\n</template>\n\n<script setup lang=\"ts\">\n  import colors from \"tailwindcss/colors\";\n  import {textStyle} from \"@/components/VrxGrid/gridStyles.ts\";\n  import {GridHeader, GridRow} from \"@/components/VrxGrid/GridConfiguration.ts\";\n  import {computed, inject, ref} from \"vue\";\n  import {Row} from \"@/components/VrxGrid/Models/Row.ts\";\n  import VrxGridCell from \"@/components/VrxGrid/VrxGridCell.vue\";\n  const props = defineProps<{\n    row: GridRow;\n    headerConfig: GridHeader [];\n    selectable?: boolean;\n    multiselect?: boolean;\n  }>();\n\n  const emit = defineEmits(['rowClicked', 'cellClicked', 'cellDoubleClicked']);\n\n  const filters = inject('filters');\n  const selectedRows = inject('selectedRows');\n\n  const rowClicked = () => {\n    rowModel.rowClicked()\n    emit('rowClicked', rowModel);\n  }\n\n  const cellClicked = (cell: any) => {\n    emit('cellClicked', cell);\n  }\n\n  const cellDoubleClicked = (cell: any) => {\n    emit('cellDoubleClicked', cell);\n  }\n\n\n  const rowModel = new Row(props.row, filters, selectedRows, props.selectable ?? false, props.multiselect ?? false, props.headerConfig);\n\n  const isFiltered = computed(() => {\n    return rowModel.isFiltered();\n  });\n\n  const rowStyle = computed(() => {\n    if(rowModel.selectable){\n      return rowModel.isSelected() ? 'selected row-hover dark:selected dark:row-hover dark:bg-gray-100' : 'not-selected dark:row-hover row-hover dark:bg-gray-100';\n    }\n    return 'not-selected';\n  });\n\n</script>\n<style scoped>\n  .selected{\n    background-color: v-bind(colors.gray[100]);\n    box-shadow:3px 0 v-bind(colors.blue[500]) inset;\n  }\n\n  .vrx-row {\n    user-select: none;\n  }\n\n  .vrx-grid-cell-content{\n    color: v-bind(rowModel.textColor);\n  }\n\n  .vrx-cell{\n    background-color: v-bind(rowModel.backgroundColor);\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  .row-hover:hover{\n    background-color: v-bind(colors.gray[200]);\n    cursor: pointer;\n  }\n\n  .not-selected{\n    box-sizing: border-box;\n  }\n\n  :is([data-mode=\"dark\"] .dark\\:row-hover:hover) {\n    background-color: v-bind(colors.gray[700]);\n  }\n\n  :is([data-mode=\"dark\"] .dark\\:selected) {\n    background-color:  v-bind(colors.gray[600]);\n    color: white;\n    box-shadow:3px 0 v-bind(colors.blue[500]) inset;\n    box-sizing: border-box;\n  }\n</style>","<template>\n  <tbody style=\"overflow-y: scroll\" >\n    <VrxGridRow\n        v-for=\"row in gridData\"\n        :row=\"row\"\n        :header-config=\"modelValue.header\"\n        :key=\"row.id\"\n        :selectable=\"modelValue.selectable\"\n        :multiselect=\"modelValue.multiselect\"\n        @row-clicked=\"rowClicked(row)\"\n        @cell-clicked=\"cellClicked\"\n        @cell-double-clicked=\"cellDoubleClicked\"\n    />\n  </tbody>\n</template>\n\n<script setup lang=\"ts\">\n  import {GridConfiguration, GridRow} from \"@/components/VrxGrid/GridConfiguration.ts\";\n  import VrxGridRow from \"@/components/VrxGrid/VrxGridRow.vue\";\n  import {ReactiveVariable} from \"vue/macros\";\n\n  const props = defineProps<{\n    modelValue: GridConfiguration;\n    gridData: ReactiveVariable<GridRow[]>\n  }>()\n\n  const emits = defineEmits(['rowClicked','cellClicked','cellDoubleClicked']);\n\n  const rowClicked = (row: GridRow) => {\n    emits('rowClicked', row);\n  }\n\n  const cellClicked = (cell: any) => {\n    emits('cellClicked', cell);\n  }\n\n  const cellDoubleClicked = (cell: any) => {\n    emits('cellDoubleClicked', cell);\n  }\n</script>\n\n<style scoped>\n\n  .text-left{\n    text-align: left;\n  }\n  .text-right{\n    text-align: right;\n  }\n  .text-center{\n    text-align: center;\n  }\n\n  .px-3{\n    padding-left: 0.75rem;\n    padding-right: 0.75rem;\n  }\n\n</style>","import {GridConfiguration, GridFilter, GridHeader, GridRow} from \"@/components/VrxGrid/GridConfiguration.ts\";\nimport {reactive, watch} from \"vue\";\n\nexport class Grid {\n    private readonly _configuration: GridConfiguration;\n    private _filters: GridFilter[];\n    private _selectedRows: GridRow[];\n    private readonly _data : GridRow[];\n\n    constructor(grid: GridConfiguration, gridData: GridRow[]) {\n        this._configuration = grid;\n        this._filters = reactive([]);\n        this._selectedRows = reactive([]);\n        this._data = reactive(gridData);\n    }\n\n    public get configuration(): GridConfiguration {\n        return this._configuration;\n    }\n\n    public get filters(): GridFilter[] {\n        return this._filters;\n    }\n\n    public get data(): GridRow[] {\n        return this._data;\n    }\n\n    public get selectedRows(): GridRow[] {\n        return this._selectedRows;\n    }\n\n    public set filters(value: GridFilter[]) {\n        this.deselectAll();\n        this._filters = value;\n    }\n\n    public set selectedRows(value: GridRow[]) {\n        this._selectedRows = value;\n    }\n\n    public selectAll() : void {\n        if(this._configuration.multiselect === false){\n            console.warn(`Multiselection in grid \"${this._configuration.id}\" is disabled. No rows will be selected`);\n            return;\n        }\n        this.deselectAll();\n        this._data.forEach((row : GridRow) => {\n            this._selectedRows.push(row);\n        });\n    }\n\n    public getRowById(id: number|string): GridRow | undefined {\n        return this._data.find((row : GridRow) => row.id === id);\n    }\n\n    public deselectAll() : void {\n        this._selectedRows.splice(0, this._selectedRows.length);\n    }\n\n    public resetFilters() : void {\n        this._filters.splice(0, this._filters.length);\n    }\n\n    public clearData() : void {\n        this.deselectAll();\n        this.resetFilters();\n        this._data.splice(0, this._data.length);\n    }\n\n    public updateData(data :  (any & {id:number|string})[]) : void {\n        data.forEach((row : (any & {id:number|string})) => {\n            const exist = this._data.find((r : (any & {id:number|string})) => r.id === row.id);\n            if(exist){\n                const index = this._data.indexOf(exist);\n                this._data.splice(index, 1);\n                this._data.splice(index, 0, row);\n            } else {\n                this._data.push(row);\n            }\n        });\n    }\n\n    public setData(data :  (any & {id:number|string})[]) : void {\n        this.clearData();\n        this._data.splice(0, this._data.length);\n        data.forEach((row : (any & {id:number|string})) => {\n            this._data.push(row);\n        });\n    }\n\n    public selectRange(start : number, end : number) : void {\n        let actStart = start;\n        let actEnd = end;\n        if(start > end){\n            actStart = end;\n            actEnd = start;\n        }\n\n        this._filters.splice(0, this._filters.length);\n        this.deselectAll();\n        for(let i = actStart; i <= actEnd; i++){\n            this._selectedRows.push(this._data[i]);\n        }\n    }\n\n}","<template>\n  <div data-testid=\"vrx-grid\" @keydown=\"keyboardListener($event)\" @click=\"mouseListener($event)\" class=\"table-outline relative overflow-x-auto h-full shadow-md w-full bg-white dark:bg-gray-800\" tabindex=\"1\">\n    <table class=\"w-full text-sm text-left text-gray-500 dark:text-gray-400\" aria-describedby=\"vrx-table-grid\">\n      <VrxGridHeader v-model:grid-config=\"gridModel.configuration\" :grid-data=\"gridModel.data\"/>\n      <VrxGridBody\n          v-model=\"gridModel.configuration\"\n          :grid-data=\"gridModel.data\"\n          @row-clicked=\"rowClicked\"\n          @cell-clicked=\"cellClicked\"\n          @cell-double-clicked=\"cellDoubleClicked\"\n      />\n    </table>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\n  import VrxGridHeader from \"@/components/VrxGrid/VrxGridHeader.vue\";\n  import VrxGridBody from \"@/components/VrxGrid/VrxGridBody.vue\";\n  import {GridConfiguration, GridRow} from \"@/components/VrxGrid/GridConfiguration.ts\";\n  import {provide} from \"vue\";\n  import {Grid} from \"@/components/VrxGrid/Models/Grid.ts\";\n  import {ReactiveVariable} from \"vue/macros\";\n\n  const keyboardListener = (e: KeyboardEvent) => {\n    if((e.ctrlKey || e.metaKey) && e.key === 'a'){\n      e.preventDefault();\n      gridModel.selectAll();\n    }\n  }\n\n  const mouseListener = (e: MouseEvent) => {\n    if(e.shiftKey && gridModel.configuration.multiselect){\n      e.preventDefault();\n\n      const length = gridModel.selectedRows.length;\n      if(length >= 2){\n        let index0 = gridModel.data.find((row) => row.id === gridModel.selectedRows[0].id);\n        let index1 = gridModel.data.find((row) => row.id === gridModel.selectedRows[length-1].id);\n\n        index0 && index1 ? gridModel.selectRange(gridModel.data.indexOf(index0), gridModel.data.indexOf(index1)) : null;\n      }\n    }\n  }\n\n  const props = defineProps<{\n    gridConfiguration: GridConfiguration;\n    gridData: GridRow[];\n  }>()\n\n  const gridModel = new Grid(props.gridConfiguration, JSON.parse(JSON.stringify(props.gridData)));\n\n  provide('filters', gridModel.filters);\n  provide('selectedRows', gridModel.selectedRows);\n\n  const emit = defineEmits(['rowClicked', 'cellClicked', 'cellDoubleClicked']);\n  const rowClicked = (row: GridRow) => {\n    emit('rowClicked', row);\n  }\n\n  const cellClicked = (cell: any) => {\n    emit('cellClicked', cell);\n  }\n\n  const cellDoubleClicked = (cell: any) => {\n    emit('cellDoubleClicked', cell);\n  }\n  const getSelectedRows = () => {\n    return gridModel.selectedRows;\n  }\n\n  const getFilters = () => {\n    return gridModel.filters;\n  }\n\n  const setData = (data : GridRow[]) => {\n    gridModel.setData(data);\n  }\n\n  const getData = () => {\n    return gridModel.data;\n  }\n\n  const updateData = (data : GridRow[]) => {\n    gridModel.updateData(data);\n  }\n\n  const resetFilters = () => {\n    gridModel.resetFilters();\n  }\n\n  const clearData = () => {\n    gridModel.clearData();\n  }\n\n  const deselectAll = () => {\n    gridModel.deselectAll();\n  }\n\n  const selectAll = () => {\n    gridModel.selectAll();\n  }\n\n  const selectRange = (start : number, end: number) => {\n    gridModel.selectRange(start, end);\n  }\n\n  const getRowById = (id : string | number) : GridRow | undefined => {\n    return gridModel.getRowById(id);\n  }\n\n\n  defineExpose({ getSelectedRows, getFilters, setData, resetFilters, deselectAll, selectAll, clearData, updateData, selectRange, getData, getRowById });\n\n</script>\n\n<style scoped>\n  .table-outline:focus{\n    outline: none;\n  }\n</style>"],"names":["Header","header","__publicField","gridConfig","gridData","a","b","toExclude","h","data","d","v","filters","value","exist","f","inject","inputValue","ref","selectValue","headerModel","props","spanReformer","computed","filteredArray","index","currentItem","colspan","Row","row","selectedRows","selectable","multiselect","headerConfig","id","included","rowIn","isFiltered","filter","customFilter","_a","cell","textStyle","editMode","input","getCellStyle","style","cellClicked","emits","cellDbClicked","vClickOutside","el","binding","event","clickOutside","keyboardListener","e","rowClicked","rowModel","emit","cellDoubleClicked","rowStyle","Grid","grid","reactive","r","start","end","actStart","actEnd","gridModel","mouseListener","length","index0","index1","provide","__expose"],"mappings":"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"}