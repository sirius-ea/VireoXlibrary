import{d as w,b,a as x,G as V,o as l,c as p,e as v,t as y,N as C,n as O,l as T,F as k,s as B,I as $}from"./vue.esm-bundler-bf410490.js";import{_ as I}from"./VrxButton.vue_vue_type_script_setup_true_lang-07d0d5c7.js";/* empty css                                                                */import"./styles-cba61512.js";/* empty css                                                                 *//* empty css                                                                  */import"./VrxGrid.vue_vue_type_style_index_0_scoped_3a3a4c45_lang-bae78749.js";/* empty css                                                                     *//* empty css                                                                    *//* empty css                                                                  */import"./_commonjsHelpers-de833af9.js";const S={style:{display:"flex","flex-direction":"row","justify-content":"center"}},g=w({__name:"VrxNotification",props:{message:{},type:{},duration:{default:5e3}},emits:["onClose","onOpen"],setup(o,{expose:f,emit:r}){const t=o,n=b(()=>t.type==="success"?"vrx-notification-success":t.type==="warning"?"vrx-notification-warning":"vrx-notification-error"),a=x(0),d=()=>{if(a.value=0,t.duration===0)return;const e=setInterval(()=>{a.value+=100/(t.duration/100),a.value>=100&&(clearInterval(e),i())},100)},c=()=>{s("onOpen"),d()},i=()=>{s("onClose")},s=r;return f({open:c,close}),V(()=>{c()}),(e,u)=>(l(),p("div",{"data-testid":"vrx-notification",class:O(["vrx-notification",n.value]),onClick:i},[v("div",S,[v("p",null,y(e.message),1)]),v("div",{class:"vrx-progress-bar",style:C({width:a.value+"%"})},null,4)],2))}}),z={"data-testid":"vrx-notification-container",class:"vrx-notification-container"},E={key:0,"data-testid":"vrx-notification-overflow",class:"vrx-unread-notifications"},P=w({__name:"VrxNotificationContainer",props:{maxNotifications:{default:8},customOverflowText:{default:"unread notifications"}},setup(o,{expose:f}){const r=o,t=x([]),n=x([]);let a=1;const d=(i,s="success",e=5e3)=>{const u=a++;t.value.length>=r.maxNotifications?n.value.push({id:u,message:i,type:s,duration:e}):t.value.unshift({id:u,message:i,type:s,duration:e})},c=i=>{t.value=t.value.filter(s=>s.id!==i),n.value.length>0&&t.value.length<r.maxNotifications+1&&t.value.unshift(n.value.shift())};return f({addNotification:d,removeNotification:c}),(i,s)=>(l(),p("div",z,[n.value.length>0?(l(),p("div",E,y(n.value.length)+" "+y(r.customOverflowText),1)):T("",!0),(l(!0),p(k,null,B(t.value,(e,u)=>(l(),$(g,{key:e.id,message:e.message,type:e.type,duration:e.duration,onOnClose:j=>c(e.id)},null,8,["message","type","duration","onOnClose"]))),128))]))}}),U={title:"VrxNotification",component:g,tags:["autodocs"],argTypes:{message:{description:"message",control:{type:"text"},table:{category:"props",type:{summary:"string"}}},type:{description:"type",control:{type:"select"},options:["success","warning","error"],defaultValue:{summary:"success"},table:{category:"props",type:{summary:"type"}}},duration:{description:"number of milliseconds the notification will be visible for; if set to 0, the notification will remain visible until clicked",control:{type:"number"},defaultValue:{summary:5e3},table:{category:"props",type:{summary:"duration"}}},maxNotifications:{description:"maximum number of notifications displayed on screen before overflowing",control:{type:"number"},defaultValue:{summary:8},table:{category:"props",type:{summary:"maxNotifications"}}},customOverflowText:{description:"custom overflow container text",control:{type:"text"},defaultValue:{summary:"unread notifications"},table:{category:"props",type:{summary:"customOverflowText"}}}},args:{message:"Notification Test",maxNotifications:8}},F={render:o=>({components:{VrxNotificationContainer:P,VrxNotification:g,VrxButton:I},setup(){return{args:o}},methods:{showNotification(){this.$refs.notification.addNotification(o.message,o.type,o.duration)}},template:`
          <VrxButton color="default" size="sm" @click="showNotification">Show Notification</VrxButton>
          <VrxNotificationContainer ref="notification" :max-notifications="args.maxNotifications" :custom-overflow-text="args.customOverflowText" />
        `}),args:{}},m={...F};var N,h,_;m.parameters={...m.parameters,docs:{...(N=m.parameters)==null?void 0:N.docs,source:{originalSource:`{
  ...Template
}`,...(_=(h=m.parameters)==null?void 0:h.docs)==null?void 0:_.source}}};const W=["Primary"];export{m as Primary,W as __namedExportsOrder,U as default};
