{"version":3,"file":"VrxSelect-112d9014.js","sources":["../../src/components/VrxSelect/VrxSelect.vue"],"sourcesContent":["<template class=\"w-full\">\n  <div\n      data-testid=\"vrx-select\"\n      class=\"relative w-full\"\n      tabindex=\"0\"\n      v-click-outside=\"onFocusOut\"\n      @focus=\"!disabled ? showDropdown = true : null\"\n  >\n    <label data-testid=\"vrx-select-label\" v-if=\"label\" class=\"block mb-2 text-sm font-medium\" :class=\"style.label\">\n      {{ label }}\n    </label>\n\n    <div\n        data-testid=\"vrx-select-button\"\n        class=\"button text-sm rounded-lg p-2.5 block w-full\"\n        :class=\"showDropdown ? style.select + ' ' + 'open-overlay' : style.select\"\n    >\n      <div class=\"button-left-side\">\n        <VrxIcon v-if=\"icon\" :icon=\"icon\" :color=\"style.icon\" size=\"5\"/>\n\n        <div class=\"selected-container\">\n          <div v-if=\"selectedList.length === 0\" :class=\"style.placeholder\">\n            {{ placeholder }}\n          </div>\n\n          <div v-else class=\"selected-container\">\n            <div :data-testid=\"'vrx-select-dropdown-selected-'+index\" v-if=\"multiselect\" v-for=\"(element, index) in selectedList\" :class=\"style.selected\" class=\"p-0.5 item-selected\">\n              <div class=\"element-label\">\n                <VrxIcon v-if=\"element.icon\" :icon=\"element.icon\" size=\"4\"/>\n                {{ element.label }}\n              </div>\n              <VrxIcon icon=\"x\" size=\"4\" @click=\"itemClick(element)\"/>\n            </div>\n\n            <div v-if=\"!multiselect\">\n              <div class=\"element-label\">\n                <VrxIcon v-if=\"selectedList[0].icon\" :icon=\"selectedList[0].icon\" size=\"4\"/>\n                {{ selectedList[0].label }}\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </div>\n      <div class=\"button-right-side\">\n        <VrxIcon v-if=\"selectedList.length > 0\" :icon=\"'x'\" size=\"4\" :color=\"style.icon\" @click=\"deselectAll\"/>\n        <VrxIcon icon=\"chevron-down\" :class=\"showDropdown ? 'icon-active' : 'icon-off'\" size=\"5\" :color=\"style.icon\"/>\n      </div>\n    </div>\n\n    <div data-testid=\"vrx-select-dropdown\" v-if=\"showDropdown\" class=\"menu text-sm\" :class=\"style.dropdown\">\n      <div v-if=\"searchable\" class=\"w-full\">\n        <input\n            type=\"text\"\n            :placeholder=\"searchPlaceholder\"\n            class=\"w-full p-2.5 focus:outline-none bg-transparent\"\n            @input=\"(event) => searchFilter(event)\"\n            @focus=\"searchClick(true)\"\n            @focusout=\"searchClick(false)\"\n        />\n      </div>\n      <div v-for=\"(element, index) in listDataCopy\" class=\"dropdown-item w-full\" :class=\"style.dropdownItem\">\n        <div\n            :data-testid=\"'vrx-select-dropdown-' + index\"\n            class=\"dropdown-item-content w-full h-full p-2.5\"\n            :class=\"selectedList.includes(element) ? 'bg-blue-100 dark:bg-blue-500' : ''\"\n            @click=\"itemClick(element)\"\n        >\n          <div class=\"element-label\">\n            <VrxIcon v-if=\"element.icon\" :icon=\"element.icon\" size=\"4\"/>\n            {{ element.label }}\n          </div>\n          <VrxIcon v-if=\"selectedList.includes(element)\" icon=\"check\" size=\"4\" :color=\"style.icon\"/>\n        </div>\n      </div>\n    </div>\n\n    <p data-testid=\"vrx-select-helper\" v-if=\"helperText\" class=\"mt-2 text-sm\" :class=\"style.helperText\">\n      {{ helperText }}\n    </p>\n  </div>\n\n</template>\n\n<script setup lang=\"ts\">\nimport {computed, ref} from \"vue\";\nimport VrxIcon from \"@/components/VrxIcon/VrxIcon.vue\";\nimport {selectStyles, ComponentVariant} from \"@/components/styles.ts\";\nimport {IconLibraryType} from \"@/components/VrxIcon/IconLibrary.ts\";\nimport {SelectItemInterface} from \"./SelectItemInterface.ts\";\n\n  const props = withDefaults(defineProps<{\n    label?: string,\n    placeholder?: string,\n    icon?: IconLibraryType,\n    disabled?: boolean,\n    invalid?: boolean,\n    helperText?: string,\n    listData: SelectItemInterface[],\n    modelValue: SelectItemInterface[],\n    variant?: ComponentVariant,\n    multiselect?: boolean,\n    height?: number,\n    onSelect?: (item: SelectItemInterface) => void\n    onClear?: () => void\n    searchable?: boolean\n    searchPlaceholder?: string\n  }>(),{\n    disabled: false,\n    invalid: false,\n    multiselect: false,\n    label: '',\n    helperText: '',\n    placeholder: 'Select option',\n    variant: 'default',\n    searchPlaceholder: 'Search'\n  })\n\n  const showDropdown = ref(false);\n  const searchFocus = ref(false);\n  const selectedList = ref(props.modelValue as Array<SelectItemInterface>);\n  const listDataCopy = ref(props.listData as Array<SelectItemInterface>);\n\n  const emit = defineEmits(['update:modelValue'])\n\n  const style = computed(() => {\n    return selectStyles(props.disabled, props.invalid, props.variant);\n  })\n\n  const searchFilter = (event: any) => {\n    if(event){\n      listDataCopy.value = props.listData.filter((elem) => elem.label.toLowerCase().includes(event.target.value.toLowerCase()));\n    }\n  }\n\n  const vClickOutside = {\n    mounted(el : any, binding : any) {\n      el.clickOutsideEvent = function(event : any) {\n        if (!(el === event.target || el.contains(event.target))) {\n          binding.value(event, el);\n        }\n      };\n      document.body.addEventListener('click', el.clickOutsideEvent);\n    },\n    unmounted(el : any) {\n      document.body.removeEventListener('click', el.clickOutsideEvent);\n    }\n  }\n\n  const onFocusOut = () => {\n    setTimeout(() => {\n      listDataCopy.value = props.listData;\n      if(!props.disabled && searchFocus.value === false) showDropdown.value = false;\n    }, 10)\n  }\n\n  const searchClick = (value: boolean) => {\n    searchFocus.value = value;\n  }\n\n  const deselectAll = () => {\n    if(props.disabled) return;\n    selectedList.value = [];\n    emit('update:modelValue', selectedList.value);\n    props.onClear ? props.onClear() : null;\n  }\n\n  const itemClick = (item : SelectItemInterface) => {\n    if(props.disabled) return;\n    if(!props.multiselect){\n      selectedList.value = [item];\n    } else {\n      if(selectedList.value.includes(item)){\n        selectedList.value = selectedList.value.filter((element) => element !== item);\n      } else {\n        selectedList.value.push(item);\n      }\n    }\n    emit('update:modelValue', selectedList.value);\n\n\n    props.onSelect ? props.onSelect(item) : null;\n  }\n\n</script>\n\n<style scoped>\n  .button {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    cursor: pointer;\n    z-index: 10;\n    height: v-bind(height + 'px');\n  }\n  .menu {\n    z-index: 200;\n    position: absolute;\n    width: 100%;\n    max-height: 300px;\n    border-top-width: 0;\n    border-radius: 0 0 8px 8px;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    justify-content: flex-start;\n    overflow-y: auto;\n  }\n  .open-overlay{\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  .button-left-side {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 10px;\n    overflow: hidden;\n    padding-right: 10px;\n  }\n  .button-right-side{\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 5px;\n  }\n  .dropdown-item{\n    cursor: pointer;\n    user-select: none;\n  }\n  .item-selected{\n    padding-inline: 5px;\n    border-radius: 5px;\n    display: flex;\n    align-items: center;\n    gap: 5px;\n    user-select: none;\n  }\n  .selected-container{\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 5px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .dropdown-item-content{\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n  }\n  .element-label{\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 5px;\n  }\n</style>\n"],"names":["showDropdown","ref","searchFocus","selectedList","props","listDataCopy","style","computed","selectStyles","searchFilter","event","elem","vClickOutside","el","binding","onFocusOut","searchClick","value","deselectAll","emit","itemClick","item","element"],"mappings":"qoCAsHQ,MAAAA,EAAeC,EAAI,EAAK,EACxBC,EAAcD,EAAI,EAAK,EACvBE,EAAeF,EAAIG,EAAM,UAAwC,EACjEC,EAAeJ,EAAIG,EAAM,QAAsC,EAI/DE,EAAQC,EAAS,IACdC,EAAaJ,EAAM,SAAUA,EAAM,QAASA,EAAM,OAAO,CACjE,EAEKK,EAAgBC,GAAe,CAChCA,IACDL,EAAa,MAAQD,EAAM,SAAS,OAAQO,GAASA,EAAK,MAAM,YAAY,EAAE,SAASD,EAAM,OAAO,MAAM,YAAa,CAAA,CAAC,EAC1H,EAGIE,EAAgB,CACpB,QAAQC,EAAUC,EAAe,CAC5BD,EAAA,kBAAoB,SAASH,EAAa,CACrCG,IAAOH,EAAM,QAAUG,EAAG,SAASH,EAAM,MAAM,GAC3CI,EAAA,MAAMJ,EAAOG,CAAE,CACzB,EAEF,SAAS,KAAK,iBAAiB,QAASA,EAAG,iBAAiB,CAC9D,EACA,UAAUA,EAAU,CAClB,SAAS,KAAK,oBAAoB,QAASA,EAAG,iBAAiB,CACjE,CAAA,EAGIE,EAAa,IAAM,CACvB,WAAW,IAAM,CACfV,EAAa,MAAQD,EAAM,SACxB,CAACA,EAAM,UAAYF,EAAY,QAAU,KAAOF,EAAa,MAAQ,KACvE,EAAE,CAAA,EAGDgB,EAAeC,GAAmB,CACtCf,EAAY,MAAQe,CAAA,EAGhBC,EAAc,IAAM,CACrBd,EAAM,WACTD,EAAa,MAAQ,GAChBgB,EAAA,oBAAqBhB,EAAa,KAAK,EACtCC,EAAA,SAAUA,EAAM,QAAA,EAAY,EAG9BgB,EAAaC,GAA+B,CAC7CjB,EAAM,WACLA,EAAM,YAGLD,EAAa,MAAM,SAASkB,CAAI,EACjClB,EAAa,MAAQA,EAAa,MAAM,OAAQmB,GAAYA,IAAYD,CAAI,EAE/DlB,EAAA,MAAM,KAAKkB,CAAI,EALjBlB,EAAA,MAAQ,CAACkB,CAAI,EAQvBF,EAAA,oBAAqBhB,EAAa,KAAK,EAG5CC,EAAM,UAAWA,EAAM,SAASiB,CAAI,EAAI"}