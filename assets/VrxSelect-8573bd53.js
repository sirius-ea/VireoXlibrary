import{d as $,z as O,a as y,b as N,o as l,c as a,s as D,v as m,w as A,n as r,t as h,q as n,e as v,A as k,F as x,k as F,B as _,p as T,C as K}from"./vue.esm-bundler-fbb9edc2.js";import{V as f}from"./VrxIcon-0995bddd.js";import{s as M}from"./styles-117b2ca5.js";import{v as P}from"./appendToBody-70f0f50f.js";import{v as R}from"./v4-4a60fe23.js";/* empty css                                                                  */import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const j={mounted(c,w){c.clickOutsideEvent=function(p){c===p.target||c.contains(p.target)||w.value(p,c)},document.body.addEventListener("click",c.clickOutsideEvent)},unmounted(c){document.body.removeEventListener("click",c.clickOutsideEvent)}},G=["for"],H=["id","data-toggle"],J={class:"button-left-side"},Q={class:"selected-container"},U={key:1,class:"selected-container"},W=["data-testid"],X={class:"element-label"},Y={key:1},Z={class:"element-label"},ee={class:"button-right-side"},le=["id"],te={key:0,class:"w-full"},se=["placeholder"],oe=["data-testid","onClick"],ae={class:"element-label"},ie=$({__name:"VrxSelect",props:{label:{default:""},placeholder:{default:"Select option"},icon:{},disabled:{type:Boolean,default:!1},invalid:{type:Boolean,default:!1},helperText:{default:""},listData:{},modelValue:{},variant:{default:"default"},multiselect:{type:Boolean,default:!1},height:{},onSelect:{},onClear:{},searchable:{type:Boolean},searchPlaceholder:{default:"Search"},showRemove:{type:Boolean,default:!0},elementClass:{}},emits:["update:modelValue"],setup(c,{emit:w}){O(e=>({bc6da62c:e.height+"px"}));const p=R(),s=c,u=y(!1),V=y(!1),o=y(s.modelValue),C=y(s.listData),z=w,d=N(()=>M(s.disabled,s.invalid,s.variant)),E=e=>{e&&(C.value=s.listData.filter(i=>i.label.toLowerCase().includes(e.target.value.toLowerCase())))},g=()=>{setTimeout(()=>{C.value=s.listData,!s.disabled&&V.value===!1&&(u.value=!1)},10)},B=e=>{V.value=e},I=()=>{s.disabled||(u.value=!1,o.value.splice(0),z("update:modelValue",o.value),s.onClear&&s.onClear())},S=e=>{if(!s.disabled){if(!s.multiselect)u.value=!1,o.value=[e];else{const i=o.value.findIndex(t=>t.value===e.value);i>-1?o.value.splice(i,1):o.value.push(e)}z("update:modelValue",o.value),s.onSelect&&s.onSelect(e)}};return(e,i)=>(l(),a(x,null,[D((l(),a("div",{"data-testid":"vrx-select",class:"relative w-full",tabindex:"0",onKeyup:A(g,["esc"])},[e.label?(l(),a("label",{key:0,"data-testid":"vrx-select-label",class:r(["block mb-2 text-sm font-medium",d.value.label]),for:m(p)},h(e.label),11,G)):n("",!0),v("div",{"data-testid":"vrx-select-button",id:m(p),ref:"toggle",onClick:i[0]||(i[0]=t=>e.disabled?null:u.value=!u.value),class:r(["button text-sm rounded-lg p-2.5 block w-full",[u.value?d.value.select+" open-overlay":d.value.select,e.elementClass]]),"data-toggle":"dropdown-"+m(p)},[v("div",J,[e.icon?(l(),k(f,{key:0,icon:e.icon,color:d.value.icon,size:"5"},null,8,["icon","color"])):n("",!0),v("div",Q,[o.value.length===0?(l(),a("div",{key:0,class:r(d.value.placeholder)},h(e.placeholder),3)):(l(),a("div",U,[e.multiselect?(l(!0),a(x,{key:0},F(o.value,(t,b)=>(l(),a("div",{"data-testid":"vrx-select-dropdown-selected-"+b,class:r([d.value.selected,"p-0.5 item-selected"])},[v("div",X,[t.icon?(l(),k(f,{key:0,icon:t.icon,size:"4"},null,8,["icon"])):n("",!0),_(" "+h(t.label),1)]),T(f,{icon:"x",size:"4",onClick:L=>S(t)},null,8,["onClick"])],10,W))),256)):n("",!0),e.multiselect?n("",!0):(l(),a("div",Y,[v("div",Z,[o.value[0].icon?(l(),k(f,{key:0,icon:o.value[0].icon,size:"4"},null,8,["icon"])):n("",!0),_(" "+h(o.value[0].label),1)])]))]))])]),v("div",ee,[o.value.length>0&&e.showRemove?(l(),k(f,{key:0,"data-testid":"vrx-deselect-button",icon:"x",size:"4",color:d.value.icon,onMousedown:K(I,["stop"])},null,8,["color"])):n("",!0),T(f,{icon:"chevron-down",class:r(u.value?"icon-active":"icon-off"),size:"5",color:d.value.icon},null,8,["class","color"])])],10,H),e.helperText?(l(),a("p",{key:1,"data-testid":"vrx-select-helper",class:r(["mt-2 text-sm",d.value.helperText])},h(e.helperText),3)):n("",!0)],32)),[[m(j),g]]),u.value?(l(),a("div",{key:0,class:"fixed top-0 left-0 w-full h-full z-20",onClick:g},[u.value?D((l(),a("div",{key:0,"data-testid":"vrx-select-dropdown",class:r(["menu text-sm",d.value.dropdown]),role:"listbox",id:"dropdown-"+m(p)},[e.searchable?(l(),a("div",te,[v("input",{type:"text",placeholder:e.searchPlaceholder,class:"w-full p-2.5 focus:outline-none bg-transparent",onInput:i[1]||(i[1]=t=>E(t)),onFocus:i[2]||(i[2]=t=>B(!0)),onFocusout:i[3]||(i[3]=t=>B(!1))},null,40,se)])):n("",!0),(l(!0),a(x,null,F(C.value,(t,b)=>(l(),a("div",{key:b,class:r(["dropdown-item w-full vrxselect-dropdown-item",d.value.dropdownItem])},[v("div",{"data-testid":"vrx-select-dropdown-"+b,class:r(["dropdown-item-content w-full h-full p-2.5",o.value.includes(t)?"vrxselect-included-style":""]),onClick:L=>S(t)},[v("div",ae,[t.icon?(l(),k(f,{key:0,icon:t.icon,size:"4"},null,8,["icon"])):n("",!0),_(" "+h(t.label),1)]),o.value.includes(t)?(l(),k(f,{key:0,icon:"check",size:"4",color:d.value.icon},null,8,["color"])):n("",!0)],10,oe)],2))),128))],10,le)),[[m(P),e.$refs.toggle]]):n("",!0)])):n("",!0)],64))}}),fe=q(ie,[["__scopeId","data-v-8d658102"]]);export{fe as V,j as v};
