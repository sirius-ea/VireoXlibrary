{"version":3,"file":"VrxSelect-da5cc85f.js","sources":["../../src/utils.ts","../../src/directives/appendToBody.ts","../../src/components/VrxSelect/VrxSelect.vue"],"sourcesContent":["export const vClickOutside = {\n    mounted(el : any, binding : any) {\n        el.clickOutsideEvent = function(event : any) {\n            if (!(el === event.target || el.contains(event.target))) {\n                binding.value(event, el);\n            }\n        };\n        document.body.addEventListener('click', el.clickOutsideEvent);\n    },\n    unmounted(el : any) {\n        document.body.removeEventListener('click', el.clickOutsideEvent);\n    }\n}","\nconst vAppendToBody = {\n    mounted: function (el : any, binding:any) {\n      let rect = binding.value.toggle.getBoundingClientRect();\n      el.style.width = rect.width + 'px';\n      el.style.top = (rect.top + rect.height) + 'px';\n      el.style.left = rect.left + 'px';\n      el.style.zIndex = 1000000;\n      document.body.appendChild(el);\n    },\n    beforeUnmount:function (el : any) {\n      document.body.removeChild(el);\n    }\n}\n\nexport {vAppendToBody};","<template class=\"w-full\">\n  <div\n      data-testid=\"vrx-select\"\n      class=\"relative w-full\"\n      tabindex=\"0\"\n      v-click-outside=\"onFocusOut\"\n      @keyup.esc=\"onFocusOut\"\n  >\n    <label data-testid=\"vrx-select-label\" v-if=\"label\" class=\"block mb-2 text-sm font-medium\" :class=\"style.label\">\n      {{ label }}\n    </label>\n\n    <div\n        data-testid=\"vrx-select-button\"\n        @click=\"!disabled ? showDropdown = !showDropdown : null\"\n        class=\"button text-sm rounded-lg p-2.5 block w-full\"\n        ref=\"toggle\"\n        :class=\"showDropdown ? style.select + ' ' + 'open-overlay' : style.select\"\n    >\n      <div class=\"button-left-side\">\n        <VrxIcon v-if=\"icon\" :icon=\"icon\" :color=\"style.icon\" size=\"5\"/>\n\n        <div class=\"selected-container\">\n          <div v-if=\"selectedList.length === 0\" :class=\"style.placeholder\">\n            {{ placeholder }}\n          </div>\n\n          <div v-else class=\"selected-container\">\n            <div :data-testid=\"'vrx-select-dropdown-selected-'+index\" v-if=\"multiselect\" v-for=\"(element, index) in selectedList\" :class=\"style.selected\" class=\"p-0.5 item-selected\">\n              <div class=\"element-label\">\n                <VrxIcon v-if=\"element.icon\" :icon=\"element.icon\" size=\"4\"/>\n                {{ element.label }}\n              </div>\n              <VrxIcon icon=\"x\" size=\"4\" @click=\"itemClick(element)\"/>\n            </div>\n\n            <div v-if=\"!multiselect\">\n              <div class=\"element-label\">\n                <VrxIcon v-if=\"selectedList[0].icon\" :icon=\"selectedList[0].icon\" size=\"4\"/>\n                {{ selectedList[0].label }}\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </div>\n      <div class=\"button-right-side\">\n        <VrxIcon v-if=\"selectedList.length > 0 && showRemove\" data-testid=\"vrx-deselect-button\" :icon=\"'x'\" size=\"4\" :color=\"style.icon\" @mousedown.stop=\"deselectAll\"/>\n        <VrxIcon icon=\"chevron-down\" :class=\"showDropdown ? 'icon-active' : 'icon-off'\" size=\"5\" :color=\"style.icon\"/>\n      </div>\n    </div>\n    <p data-testid=\"vrx-select-helper\" v-if=\"helperText\" class=\"mt-2 text-sm\" :class=\"style.helperText\">\n      {{ helperText }}\n    </p>\n  </div>\n\n  <div data-testid=\"vrx-select-dropdown\" v-if=\"showDropdown\" id=\"menu\" class=\"menu text-sm\" :class=\"style.dropdown\" v-append-to-body=\"$refs\" appendToBody>\n      <div v-if=\"searchable\" class=\"w-full\">\n        <input\n            type=\"text\"\n            :placeholder=\"searchPlaceholder\"\n            class=\"w-full p-2.5 focus:outline-none bg-transparent\"\n            @input=\"(event) => searchFilter(event)\"\n            @focus=\"searchClick(true)\"\n            @focusout=\"searchClick(false)\"\n        />\n      </div>\n      <div v-for=\"(element, index) in listDataCopy\" :key=\"index\" class=\"dropdown-item w-full\" :class=\"style.dropdownItem\">\n        <div\n            :data-testid=\"'vrx-select-dropdown-' + index\"\n            class=\"dropdown-item-content w-full h-full p-2.5\"\n            :class=\"selectedList.includes(element) ? 'bg-blue-100 dark:bg-blue-500' : ''\"\n            @click=\"itemClick(element)\"\n        >\n          <div class=\"element-label\">\n            <VrxIcon v-if=\"element.icon\" :icon=\"element.icon\" size=\"4\"/>\n            {{ element.label }}\n          </div>\n          <VrxIcon v-if=\"selectedList.includes(element)\" icon=\"check\" size=\"4\" :color=\"style.icon\"/>\n        </div>\n      </div>\n    </div>\n\n</template>\n\n<script setup lang=\"ts\">\nimport {computed, ref, defineEmits, defineProps, withDefaults} from \"vue\";\nimport VrxIcon from \"@/components/VrxIcon/VrxIcon.vue\";\nimport {vClickOutside} from \"@/utils.ts\";\nimport {selectStyles, ComponentVariant} from \"@/components/styles\";\nimport {IconLibraryType} from \"@/components/VrxIcon/IconLibrary\";\nimport type {SelectItemInterface} from \"./SelectItemInterface\";\nimport {vAppendToBody} from \"@/directives/appendToBody\";\n\n\n  const props = withDefaults(defineProps<{\n    label?: string,\n    placeholder?: string,\n    icon?: IconLibraryType,\n    disabled?: boolean,\n    invalid?: boolean,\n    helperText?: string,\n    listData: SelectItemInterface[],\n    modelValue: SelectItemInterface[],\n    variant?: ComponentVariant,\n    multiselect?: boolean,\n    height?: number,\n    onSelect?: (item: SelectItemInterface) => void\n    onClear?: () => void\n    searchable?: boolean\n    searchPlaceholder?: string\n    showRemove: boolean\n  }>(),{\n    disabled: false,\n    invalid: false,\n    multiselect: false,\n    showRemove:true,\n    label: '',\n    helperText: '',\n    placeholder: 'Select option',\n    variant: 'default',\n    searchPlaceholder: 'Search'\n  })\n\n  const showDropdown = ref(false);\n  const searchFocus = ref(false);\n  const selectedList = ref(props.modelValue);\n  const listDataCopy = ref(props.listData);\n  const emit = defineEmits(['update:modelValue'])\n\n  const style = computed(() => {\n    return selectStyles(props.disabled, props.invalid, props.variant);\n  })\n\n  const searchFilter = (event: any) => {\n    if(event){\n      listDataCopy.value = props.listData.filter((elem) => elem.label.toLowerCase().includes(event.target.value.toLowerCase()));\n    }\n  }\n\n  const onFocusOut = () => {\n    setTimeout(() => {\n      listDataCopy.value = props.listData;\n      if(!props.disabled && searchFocus.value === false) showDropdown.value = false;\n    }, 10)\n  }\n\n  const searchClick = (value: boolean) => {\n    searchFocus.value = value;\n  }\n\n  const deselectAll = () => {\n    if(props.disabled) return;\n    showDropdown.value = false;\n    selectedList.value.splice(0);\n    emit('update:modelValue', selectedList.value);\n    props.onClear ? props.onClear() : null;\n  }\n\n  const itemClick = (item : SelectItemInterface) => {\n    if(props.disabled) return;\n    if(!props.multiselect){\n      showDropdown.value = false;\n      selectedList.value = [item];\n    } else {\n      const indexItem = selectedList.value.findIndex((element) => element.value === item.value);\n      if(indexItem > -1){\n        selectedList.value.splice(indexItem,1);\n      } else {\n        selectedList.value.push(item);\n      }\n    }\n    emit('update:modelValue', selectedList.value);\n\n\n    props.onSelect ? props.onSelect(item) : null;\n  }\n\n</script>\n\n<style scoped>\n  .button {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    cursor: pointer;\n    z-index: 10;\n    height: v-bind(height + 'px');\n  }\n  .menu {\n    z-index: 200;\n    position: absolute;\n    width: 100%;\n    max-height: 300px;\n    border-top-width: 0;\n    border-radius: 0 0 8px 8px;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    justify-content: flex-start;\n    overflow-y: auto;\n  }\n  .open-overlay{\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  .button-left-side {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 10px;\n    overflow: hidden;\n    padding-right: 10px;\n  }\n  .button-right-side{\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 5px;\n  }\n  .dropdown-item{\n    cursor: pointer;\n    user-select: none;\n  }\n  .item-selected{\n    padding-inline: 5px;\n    border-radius: 5px;\n    display: flex;\n    align-items: center;\n    gap: 5px;\n    user-select: none;\n  }\n  .selected-container{\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 5px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .dropdown-item-content{\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n  }\n  .element-label{\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 5px;\n  }\n</style>\n\nfunction defineEmits(arg0: {}) {\n  throw new Error(\"Function not implemented.\");\n}\n"],"names":["vClickOutside","el","binding","event","vAppendToBody","rect","showDropdown","ref","searchFocus","selectedList","props","listDataCopy","style","computed","selectStyles","searchFilter","elem","onFocusOut","searchClick","value","deselectAll","emit","itemClick","item","indexItem","element"],"mappings":"+YAAO,MAAMA,EAAgB,CACzB,QAAQC,EAAUC,EAAe,CAC1BD,EAAA,kBAAoB,SAASE,EAAa,CACnCF,IAAOE,EAAM,QAAUF,EAAG,SAASE,EAAM,MAAM,GACzCD,EAAA,MAAMC,EAAOF,CAAE,CAC3B,EAEJ,SAAS,KAAK,iBAAiB,QAASA,EAAG,iBAAiB,CAChE,EACA,UAAUA,EAAU,CAChB,SAAS,KAAK,oBAAoB,QAASA,EAAG,iBAAiB,CACnE,CACJ,ECXMG,EAAgB,CAClB,QAAS,SAAUH,EAAUC,EAAa,CACxC,IAAIG,EAAOH,EAAQ,MAAM,OAAO,sBAAsB,EACnDD,EAAA,MAAM,MAAQI,EAAK,MAAQ,KAC9BJ,EAAG,MAAM,IAAOI,EAAK,IAAMA,EAAK,OAAU,KACvCJ,EAAA,MAAM,KAAOI,EAAK,KAAO,KAC5BJ,EAAG,MAAM,OAAS,IACT,SAAA,KAAK,YAAYA,CAAE,CAC9B,EACA,cAAc,SAAUA,EAAU,CACvB,SAAA,KAAK,YAAYA,CAAE,CAC9B,CACJ,0zBC+GQ,MAAAK,EAAeC,EAAI,EAAK,EACxBC,EAAcD,EAAI,EAAK,EACvBE,EAAeF,EAAIG,EAAM,UAAU,EACnCC,EAAeJ,EAAIG,EAAM,QAAQ,EAGjCE,EAAQC,EAAS,IACdC,EAAaJ,EAAM,SAAUA,EAAM,QAASA,EAAM,OAAO,CACjE,EAEKK,EAAgBZ,GAAe,CAChCA,IACDQ,EAAa,MAAQD,EAAM,SAAS,OAAQM,GAASA,EAAK,MAAM,YAAY,EAAE,SAASb,EAAM,OAAO,MAAM,YAAa,CAAA,CAAC,EAC1H,EAGIc,EAAa,IAAM,CACvB,WAAW,IAAM,CACfN,EAAa,MAAQD,EAAM,SACxB,CAACA,EAAM,UAAYF,EAAY,QAAU,KAAOF,EAAa,MAAQ,KACvE,EAAE,CAAA,EAGDY,EAAeC,GAAmB,CACtCX,EAAY,MAAQW,CAAA,EAGhBC,EAAc,IAAM,CACrBV,EAAM,WACTJ,EAAa,MAAQ,GACRG,EAAA,MAAM,OAAO,CAAC,EACtBY,EAAA,oBAAqBZ,EAAa,KAAK,EACtCC,EAAA,SAAUA,EAAM,QAAA,EAAY,EAG9BY,EAAaC,GAA+B,CAChD,GAAG,CAAAb,EAAM,SACN,IAAA,CAACA,EAAM,YACRJ,EAAa,MAAQ,GACRG,EAAA,MAAQ,CAACc,CAAI,MACrB,CACC,MAAAC,EAAYf,EAAa,MAAM,UAAWgB,GAAYA,EAAQ,QAAUF,EAAK,KAAK,EACrFC,EAAY,GACAf,EAAA,MAAM,OAAOe,EAAU,CAAC,EAExBf,EAAA,MAAM,KAAKc,CAAI,CAEhC,CACKF,EAAA,oBAAqBZ,EAAa,KAAK,EAG5CC,EAAM,UAAWA,EAAM,SAASa,CAAI,EAAI"}