{"version":3,"file":"appendToBody-70f0f50f.js","sources":["../../src/directives/appendToBody.ts"],"sourcesContent":["\nconst vAppendToBody = {\n    mounted: function (el: any, args: any) {\n        let elementToAttach;\n        let changeWidth = true;\n        let center: boolean = false;\n        if(args.value.length){\n            elementToAttach = args.value[0];\n            changeWidth = args.value[1];\n            center = args.value[2] ?? false; //TODO: Shouldn't set 'center = true' if 'changeWidth = true'\n        } else {\n            elementToAttach = args.value;\n        }\n\n        const overflowParent = getScrollParent(elementToAttach);\n        document.body.appendChild(el.parentNode);\n        document.body.style.overflow = \"hidden\";\n        calculatePosition(el, elementToAttach, changeWidth, center)\n    },\n    beforeUnmount: function (el: any) {\n        if(el.parentNode)\n            el.parentNode.remove();\n        else\n            el.remove();\n        document.body.style.overflow = \"auto\";\n    }\n}\n\nfunction calculatePosition(el: HTMLElement, elementToAttach : HTMLElement , changeWidth = true, center = false){\n    const rect = elementToAttach.getBoundingClientRect();\n    const elRect = el.getBoundingClientRect();\n\n    if(changeWidth)\n        el.style.width = rect.width + 'px';\n\n    el.style.top = (rect.top + rect.height) + 'px';\n    el.style.left = center ? (rect.left - (Math.abs(Math.ceil(elRect.width/2) - Math.ceil(rect.width/2)))) + 'px' : rect.left + 'px';\n    el.style.zIndex = \"1000000\";\n}\nfunction getScrollParent(node: HTMLElement | null) : HTMLElement {\n    if (node == null) {\n        return document.body;\n    }\n\n    if (node.scrollHeight > node.clientHeight) {\n        return node;\n    } else {\n        return getScrollParent(node.parentNode as HTMLElement | null);\n    }\n}\n\nexport {vAppendToBody};\n"],"names":["vAppendToBody","el","args","elementToAttach","changeWidth","center","getScrollParent","calculatePosition","rect","elRect","node"],"mappings":"AACA,MAAMA,EAAgB,CAClB,QAAS,SAAUC,EAASC,EAAW,CAC/B,IAAAC,EACAC,EAAc,GACdC,EAAkB,GACnBH,EAAK,MAAM,QACQC,EAAAD,EAAK,MAAM,CAAC,EAChBE,EAAAF,EAAK,MAAM,CAAC,EACjBG,EAAAH,EAAK,MAAM,CAAC,GAAK,IAE1BC,EAAkBD,EAAK,MAGJI,EAAgBH,CAAe,EAC7C,SAAA,KAAK,YAAYF,EAAG,UAAU,EAC9B,SAAA,KAAK,MAAM,SAAW,SACbM,EAAAN,EAAIE,EAAiBC,EAAaC,CAAM,CAC9D,EACA,cAAe,SAAUJ,EAAS,CAC3BA,EAAG,WACFA,EAAG,WAAW,SAEdA,EAAG,OAAO,EACL,SAAA,KAAK,MAAM,SAAW,MACnC,CACJ,EAEA,SAASM,EAAkBN,EAAiBE,EAAgCC,EAAc,GAAMC,EAAS,GAAM,CACrG,MAAAG,EAAOL,EAAgB,wBACvBM,EAASR,EAAG,wBAEfG,IACIH,EAAA,MAAM,MAAQO,EAAK,MAAQ,MAElCP,EAAG,MAAM,IAAOO,EAAK,IAAMA,EAAK,OAAU,KACvCP,EAAA,MAAM,KAAOI,EAAUG,EAAK,KAAQ,KAAK,IAAI,KAAK,KAAKC,EAAO,MAAM,CAAC,EAAI,KAAK,KAAKD,EAAK,MAAM,CAAC,CAAC,EAAM,KAAOA,EAAK,KAAO,KAC5HP,EAAG,MAAM,OAAS,SACtB,CACA,SAASK,EAAgBI,EAAwC,CAC7D,OAAIA,GAAQ,KACD,SAAS,KAGhBA,EAAK,aAAeA,EAAK,aAClBA,EAEAJ,EAAgBI,EAAK,UAAgC,CAEpE"}